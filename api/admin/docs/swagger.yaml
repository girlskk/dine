basePath: /api/v1
definitions:
  domain.Address:
    properties:
      address:
        description: 详细地址
        type: string
      city_id:
        description: 城市 ID
        type: string
      city_name:
        description: 城市名称
        type: string
      country_id:
        description: 国家/地区 ID
        type: string
      country_name:
        description: 国家/地区 名称
        type: string
      district_id:
        description: 区县 ID
        type: string
      district_name:
        description: 区县名称
        type: string
      lat:
        description: 纬度
        type: string
      lng:
        description: 经度
        type: string
      province_id:
        description: 省份 ID
        type: string
      province_name:
        description: 省份名称
        type: string
    type: object
  domain.AdminUser:
    properties:
      account_type:
        allOf:
        - $ref: '#/definitions/domain.AdminUserAccountType'
        description: '账户类型 // normal: 普通管理员, super_admin: 超级管理员'
      id:
        type: string
      nickname:
        description: 昵称
        type: string
      username:
        description: 用户名
        type: string
    type: object
  domain.AdminUserAccountType:
    enum:
    - normal
    - super_admin
    type: string
    x-enum-comments:
      AdminUserAccountTypeNormal: 普通管理员
      AdminUserAccountTypeSuperAdmin: 超级管理员
    x-enum-descriptions:
    - 普通管理员
    - 超级管理员
    x-enum-varnames:
    - AdminUserAccountTypeNormal
    - AdminUserAccountTypeSuperAdmin
  domain.BusinessHours:
    properties:
      end_time:
        description: 结束时间，格式 HH:MM:SS
        type: string
      start_time:
        description: 开始时间，格式 HH:MM:SS
        type: string
      weekdays:
        description: 适用的星期几，0=星期日，1=星期一，依此类推
        items:
          type: integer
        type: array
    type: object
  domain.BusinessModel:
    enum:
    - direct
    - franchisee
    type: string
    x-enum-comments:
      BusinessModelDirect: 直营
      BusinessModelFranchisee: 加盟
    x-enum-descriptions:
    - 直营
    - 加盟
    x-enum-varnames:
    - BusinessModelDirect
    - BusinessModelFranchisee
  domain.DiningPeriod:
    properties:
      end_time:
        description: 结束时间，格式 HH:MM:SS
        type: string
      name:
        description: 名称，如“用餐时段1”
        type: string
      start_time:
        description: 开始时间，格式 HH:MM:SS
        type: string
    type: object
  domain.Merchant:
    properties:
      address:
        allOf:
        - $ref: '#/definitions/domain.Address'
        description: 地址
      admin_phone_number:
        description: 管理员手机号
        type: string
      admin_user_id:
        description: 登陆账号 ID
        type: string
      brand_name:
        description: 品牌名称
        type: string
      business_type_id:
        description: 业务类型
        type: string
      business_type_name:
        description: 业务类型名称
        type: string
      created_at:
        type: string
      description:
        description: 商户描述(保留字段)
        type: string
      expire_utc:
        description: UTC 时区的过期时间
        type: string
      id:
        type: string
      login_account:
        description: 登录账号
        type: string
      login_password:
        description: 登录密码(加密存储)
        type: string
      merchant_code:
        description: 商户编号(保留字段)
        type: string
      merchant_logo:
        description: logo 图片地址
        type: string
      merchant_name:
        description: 商户名称,最长不得超过50个字
        type: string
      merchant_short_name:
        description: 商户简称
        type: string
      merchant_type:
        allOf:
        - $ref: '#/definitions/domain.MerchantType'
        description: '商户类型: 品牌商户,门店商户'
      status:
        allOf:
        - $ref: '#/definitions/domain.MerchantStatus'
        description: '状态: 正常,停用,过期'
      store_count:
        description: 关联门店数量(仅品牌商户有效)
        type: integer
      updated_at:
        type: string
    type: object
  domain.MerchantSimpleUpdateType:
    enum:
    - status
    type: string
    x-enum-comments:
      MerchantSimpleUpdateTypeStatus: 状态
    x-enum-descriptions:
    - 状态
    x-enum-varnames:
    - MerchantSimpleUpdateTypeStatus
  domain.MerchantStatus:
    enum:
    - active
    - expired
    - disabled
    type: string
    x-enum-comments:
      MerchantStatusActive: 已激活
      MerchantStatusDisabled: 已禁用
      MerchantStatusExpired: 已过期
    x-enum-descriptions:
    - 已激活
    - 已过期
    - 已禁用
    x-enum-varnames:
    - MerchantStatusActive
    - MerchantStatusExpired
    - MerchantStatusDisabled
  domain.MerchantType:
    enum:
    - brand
    - store
    type: string
    x-enum-comments:
      MerchantTypeBrand: 品牌商户
      MerchantTypeStore: 门店商户
    x-enum-descriptions:
    - 品牌商户
    - 门店商户
    x-enum-varnames:
    - MerchantTypeBrand
    - MerchantTypeStore
  domain.ObjectStorageScene:
    enum:
    - store
    - product
    - order/list_export
    - reconciliation/list_export
    - reconciliation/detail_export
    - point_settlement/list_export
    - point_settlement/detail_export
    type: string
    x-enum-comments:
      ObjectStorageSceneOrderListExport: 订单列表导出
      ObjectStorageScenePointSettlementDetailExport: 积分结算单明细导出
      ObjectStorageScenePointSettlementListExport: 积分结算单导出
      ObjectStorageSceneProduct: 商品
      ObjectStorageSceneReconciliationDetailExport: 财务对账单明细导出
      ObjectStorageSceneReconciliationListExport: 财务对账单导出
      ObjectStorageSceneStore: 门店
    x-enum-descriptions:
    - 门店
    - 商品
    - 订单列表导出
    - 财务对账单导出
    - 财务对账单明细导出
    - 积分结算单导出
    - 积分结算单明细导出
    x-enum-varnames:
    - ObjectStorageSceneStore
    - ObjectStorageSceneProduct
    - ObjectStorageSceneOrderListExport
    - ObjectStorageSceneReconciliationListExport
    - ObjectStorageSceneReconciliationDetailExport
    - ObjectStorageScenePointSettlementListExport
    - ObjectStorageScenePointSettlementDetailExport
  domain.PurchaseDurationUnit:
    enum:
    - day
    - month
    - year
    - week
    type: string
    x-enum-comments:
      PurchaseDurationUnitDay: 日
      PurchaseDurationUnitMonth: 月
      PurchaseDurationUnitWeek: 周
      PurchaseDurationUnitYear: 年
    x-enum-descriptions:
    - 日
    - 月
    - 年
    - 周
    x-enum-varnames:
    - PurchaseDurationUnitDay
    - PurchaseDurationUnitMonth
    - PurchaseDurationUnitYear
    - PurchaseDurationUnitWeek
  domain.ShiftTime:
    properties:
      end_time:
        description: 结束时间，格式 HH:MM:SS
        type: string
      name:
        description: 名称，如“班次1”
        type: string
      start_time:
        description: 开始时间，格式 HH:MM:SS
        type: string
    type: object
  domain.Store:
    properties:
      address:
        allOf:
        - $ref: '#/definitions/domain.Address'
        description: 地址
      admin_phone_number:
        description: 管理员手机号
        type: string
      admin_user_id:
        description: 登陆账号 ID
        type: string
      business_hours:
        description: 营业时间段
        items:
          $ref: '#/definitions/domain.BusinessHours'
        type: array
      business_license_url:
        description: 营业执照图片地址
        type: string
      business_model:
        allOf:
        - $ref: '#/definitions/domain.BusinessModel'
        description: 经营模式：直营 加盟
      business_type_id:
        description: 业态类型
        type: string
      business_type_name:
        description: 业务类型名称
        type: string
      cashier_desk_url:
        description: 收银台照片地址
        type: string
      contact_name:
        description: 联系人
        type: string
      contact_phone:
        description: 联系电话
        type: string
      created_at:
        type: string
      dining_environment_url:
        description: 就餐环境照片地址
        type: string
      dining_periods:
        description: 就餐时段
        items:
          $ref: '#/definitions/domain.DiningPeriod'
        type: array
      food_operation_license_url:
        description: 食品经营许可证照片地址
        type: string
      id:
        type: string
      location_number:
        description: 门店位置编号
        type: string
      login_account:
        description: 登录账号
        type: string
      login_password:
        description: 登录密码(加密存储)
        type: string
      merchant_id:
        description: 商户 ID
        type: string
      merchant_name:
        description: 商户名称
        type: string
      shift_times:
        description: 班次时间
        items:
          $ref: '#/definitions/domain.ShiftTime'
        type: array
      status:
        allOf:
        - $ref: '#/definitions/domain.StoreStatus'
        description: '状态: 营业 停业'
      store_code:
        description: 门店编码(保留字段)
        type: string
      store_logo:
        description: logo 图片地址
        type: string
      store_name:
        description: 门店名称,长度不超过30个字
        type: string
      store_short_name:
        description: 门店简称
        type: string
      storefront_url:
        description: 门店门头照片地址
        type: string
      unified_social_credit_code:
        description: 统一社会信用代码
        type: string
      updated_at:
        type: string
    type: object
  domain.StoreSimpleUpdateType:
    enum:
    - status
    type: string
    x-enum-comments:
      StoreSimpleUpdateTypeStatus: 状态更新
    x-enum-descriptions:
    - 状态更新
    x-enum-varnames:
    - StoreSimpleUpdateTypeStatus
  domain.StoreStatus:
    enum:
    - open
    - closed
    type: string
    x-enum-comments:
      StoreStatusClosed: 停业
      StoreStatusOpen: 营业
    x-enum-descriptions:
    - 营业
    - 停业
    x-enum-varnames:
    - StoreStatusOpen
    - StoreStatusClosed
  response.Response:
    properties:
      code:
        type: string
      data: {}
    type: object
  types.Address:
    properties:
      address:
        description: 详细地址
        maxLength: 100
        type: string
      city_id:
        description: 城市 ID
        type: string
      city_name:
        description: 城市名称
        type: string
      country_id:
        description: 国家/地区 ID
        type: string
      country_name:
        description: 国家/地区 名称
        type: string
      district_id:
        description: 区县 ID
        type: string
      district_name:
        description: 区县名称
        type: string
      lat:
        description: 纬度
        maxLength: 50
        type: string
      lng:
        description: 经度
        maxLength: 50
        type: string
      province_id:
        description: 省份 ID
        type: string
      province_name:
        description: 省份名称
        type: string
    type: object
  types.CreateMerchantReq:
    properties:
      address:
        allOf:
        - $ref: '#/definitions/types.Address'
        description: 地址
      admin_phone_number:
        description: 管理员手机号
        maxLength: 20
        type: string
      brand_name:
        description: 品牌名称
        maxLength: 50
        type: string
      business_type_id:
        description: 业务类型
        type: string
      description:
        description: 商户描述(保留字段)
        maxLength: 255
        type: string
      login_account:
        description: 登录账号
        type: string
      login_password:
        description: 登录密码(加密存储)
        type: string
      merchant_code:
        description: 商户编号(保留字段)
        maxLength: 50
        type: string
      merchant_logo:
        description: logo 图片地址
        maxLength: 500
        type: string
      merchant_name:
        description: 商户名称,最长不得超过50个字
        maxLength: 50
        type: string
      merchant_short_name:
        description: 商户简称
        maxLength: 50
        type: string
      merchant_type:
        allOf:
        - $ref: '#/definitions/domain.MerchantType'
        description: '商户类型: 品牌商户,门店商户'
      purchase_duration:
        description: 购买时长
        type: integer
      purchase_duration_unit:
        allOf:
        - $ref: '#/definitions/domain.PurchaseDurationUnit'
        description: 购买时长单位
      status:
        allOf:
        - $ref: '#/definitions/domain.MerchantStatus'
        description: '状态: 正常,停用,过期'
    required:
    - admin_phone_number
    - business_type_id
    - login_account
    - login_password
    - merchant_name
    - merchant_type
    - purchase_duration
    - purchase_duration_unit
    type: object
  types.CreateStoreMerchantReq:
    properties:
      merchant:
        $ref: '#/definitions/types.CreateMerchantReq'
      store:
        $ref: '#/definitions/types.CreateStoreReq'
    type: object
  types.CreateStoreReq:
    properties:
      address:
        allOf:
        - $ref: '#/definitions/types.Address'
        description: 地址  创建门店时地址校验必填，创建商户时可选
      admin_phone_number:
        description: 管理员手机号
        maxLength: 20
        type: string
      business_hours:
        description: 营业时间段
        items:
          $ref: '#/definitions/domain.BusinessHours'
        type: array
      business_license_url:
        description: 营业执照图片地址
        maxLength: 500
        type: string
      business_model:
        allOf:
        - $ref: '#/definitions/domain.BusinessModel'
        description: 直营/加盟
      business_type_id:
        description: 业态类型
        type: string
      cashier_desk_url:
        description: 收银台照片地址
        maxLength: 500
        type: string
      contact_name:
        description: 联系人
        maxLength: 255
        type: string
      contact_phone:
        description: 联系电话
        maxLength: 255
        type: string
      dining_environment_url:
        description: 就餐环境照片地址
        maxLength: 500
        type: string
      dining_periods:
        description: 就餐时段
        items:
          $ref: '#/definitions/domain.DiningPeriod'
        type: array
      food_operation_license_url:
        description: 食品经营许可证照片地址
        maxLength: 500
        type: string
      location_number:
        description: 门店位置编号
        maxLength: 255
        type: string
      login_account:
        description: 登录账号
        type: string
      login_password:
        description: 登录密码(加密存储)
        type: string
      merchant_id:
        description: 所属商户 ID
        type: string
      shift_times:
        description: 班次时间
        items:
          $ref: '#/definitions/domain.ShiftTime'
        type: array
      status:
        allOf:
        - $ref: '#/definitions/domain.StoreStatus'
        description: 营业/停业
      store_code:
        description: 门店编码(保留字段)
        maxLength: 50
        type: string
      store_logo:
        description: logo 图片地址
        maxLength: 500
        type: string
      store_name:
        description: 门店名称,长度不超过30个字
        maxLength: 30
        type: string
      store_short_name:
        description: 门店简称
        maxLength: 30
        type: string
      storefront_url:
        description: 门店门头照片地址
        maxLength: 500
        type: string
      unified_social_credit_code:
        description: 统一社会信用代码
        maxLength: 255
        type: string
    required:
    - address
    - admin_phone_number
    - business_hours
    - business_model
    - business_type_id
    - dining_periods
    - location_number
    - login_account
    - login_password
    - merchant_id
    - shift_times
    - status
    - store_name
    type: object
  types.LoginReq:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  types.LoginResp:
    properties:
      expire:
        type: integer
      token:
        type: string
    type: object
  types.MerchantCount:
    properties:
      expired:
        description: 过期商户数量
        type: integer
      merchant_type_brand:
        description: 品牌商户数量
        type: integer
      merchant_type_store:
        description: 门店商户数量
        type: integer
    type: object
  types.MerchantInfoResp:
    properties:
      merchant:
        allOf:
        - $ref: '#/definitions/domain.Merchant'
        description: 商户信息
      store:
        allOf:
        - $ref: '#/definitions/domain.Store'
        description: 门店信息
    type: object
  types.MerchantListResp:
    properties:
      merchants:
        description: 商户列表
        items:
          $ref: '#/definitions/domain.Merchant'
        type: array
      total:
        description: 总数
        type: integer
    type: object
  types.MerchantRenewalReq:
    properties:
      merchant_id:
        description: 商户 ID
        type: string
      purchase_duration:
        description: 购买时长
        type: integer
      purchase_duration_unit:
        allOf:
        - $ref: '#/definitions/domain.PurchaseDurationUnit'
        description: 购买时长单位
    required:
    - merchant_id
    - purchase_duration
    - purchase_duration_unit
    type: object
  types.MerchantSimpleUpdateReq:
    properties:
      simple_update_type:
        allOf:
        - $ref: '#/definitions/domain.MerchantSimpleUpdateType'
        description: 简单更新类型
        enum:
        - status
      status:
        allOf:
        - $ref: '#/definitions/domain.MerchantStatus'
        description: '状态: 正常,停用,过期'
    required:
    - simple_update_type
    type: object
  types.OssTokenReq:
    properties:
      filename:
        description: 文件名
        type: string
      for_download:
        description: 是否用于下载
        type: boolean
      scene:
        allOf:
        - $ref: '#/definitions/domain.ObjectStorageScene'
        description: '业务场景，store：门店相关 product: 商品相关'
        enum:
        - store
        - product
    required:
    - filename
    - scene
    type: object
  types.OssTokenResp:
    properties:
      content_disposition:
        type: string
      dir:
        type: string
      host:
        type: string
      key:
        type: string
      policy:
        type: string
      security_token:
        type: string
      signature:
        type: string
      x_oss_credential:
        type: string
      x_oss_date:
        type: string
      x_oss_signature_version:
        type: string
    type: object
  types.StoreListResp:
    properties:
      stores:
        description: 门店列表
        items:
          $ref: '#/definitions/domain.Store'
        type: array
      total:
        description: 总数
        type: integer
    type: object
  types.StoreSimpleUpdateReq:
    properties:
      simple_update_type:
        allOf:
        - $ref: '#/definitions/domain.StoreSimpleUpdateType'
        description: 简单更新类型
        enum:
        - status
      status:
        allOf:
        - $ref: '#/definitions/domain.StoreStatus'
        description: 营业/停业
    required:
    - simple_update_type
    - status
    type: object
  types.UpdateMerchantReq:
    properties:
      address:
        allOf:
        - $ref: '#/definitions/types.Address'
        description: 地址
      admin_phone_number:
        description: 管理员手机号
        maxLength: 20
        type: string
      brand_name:
        description: 品牌名称
        maxLength: 50
        type: string
      business_type_id:
        description: 业务类型
        type: string
      description:
        description: 商户描述(保留字段)
        maxLength: 255
        type: string
      login_account:
        description: 登录账号
        type: string
      login_password:
        description: 登录密码(加密存储)
        type: string
      merchant_code:
        description: 商户编号(保留字段)
        maxLength: 50
        type: string
      merchant_logo:
        description: logo 图片地址
        maxLength: 500
        type: string
      merchant_name:
        description: 商户名称,最长不得超过50个字
        maxLength: 50
        type: string
      merchant_short_name:
        description: 商户简称
        maxLength: 50
        type: string
      status:
        allOf:
        - $ref: '#/definitions/domain.MerchantStatus'
        description: '状态: 正常,停用,过期'
    required:
    - admin_phone_number
    - business_type_id
    - login_account
    - login_password
    - merchant_name
    type: object
  types.UpdateStoreMerchantReq:
    properties:
      merchant:
        $ref: '#/definitions/types.UpdateMerchantReq'
      store:
        $ref: '#/definitions/types.UpdateStoreReq'
    type: object
  types.UpdateStoreReq:
    properties:
      address:
        allOf:
        - $ref: '#/definitions/types.Address'
        description: 地址
      admin_phone_number:
        description: 管理员手机号
        maxLength: 20
        type: string
      business_hours:
        description: 营业时间段
        items:
          $ref: '#/definitions/domain.BusinessHours'
        type: array
      business_license_url:
        description: 营业执照图片地址
        maxLength: 500
        type: string
      business_model:
        allOf:
        - $ref: '#/definitions/domain.BusinessModel'
        description: 直营/加盟
      business_type_id:
        description: 业态类型
        type: string
      cashier_desk_url:
        description: 收银台照片地址
        maxLength: 500
        type: string
      contact_name:
        description: 联系人
        maxLength: 255
        type: string
      contact_phone:
        description: 联系电话
        maxLength: 255
        type: string
      dining_environment_url:
        description: 就餐环境照片地址
        maxLength: 500
        type: string
      dining_periods:
        description: 就餐时段
        items:
          $ref: '#/definitions/domain.DiningPeriod'
        type: array
      food_operation_license_url:
        description: 食品经营许可证照片地址
        maxLength: 500
        type: string
      location_number:
        description: 门店位置编号
        maxLength: 255
        type: string
      login_account:
        description: 登录账号
        type: string
      login_password:
        description: 登录密码(加密存储)
        type: string
      shift_times:
        description: 班次时间
        items:
          $ref: '#/definitions/domain.ShiftTime'
        type: array
      status:
        allOf:
        - $ref: '#/definitions/domain.StoreStatus'
        description: 营业/停业
      store_code:
        description: 门店编码(保留字段)
        maxLength: 50
        type: string
      store_logo:
        description: logo 图片地址
        maxLength: 500
        type: string
      store_name:
        description: 门店名称,长度不超过30个字
        maxLength: 30
        type: string
      store_short_name:
        description: 门店简称
        maxLength: 30
        type: string
      storefront_url:
        description: 门店门头照片地址
        maxLength: 500
        type: string
      unified_social_credit_code:
        description: 统一社会信用代码
        maxLength: 255
        type: string
    required:
    - address
    - admin_phone_number
    - business_hours
    - business_model
    - business_type_id
    - dining_periods
    - location_number
    - login_account
    - login_password
    - shift_times
    - status
    - store_name
    type: object
info:
  contact: {}
  description: 供总后台调用.
  title: 总后台 API
  version: "1.0"
paths:
  /merchant/merchant/{id}:
    delete:
      consumes:
      - application/json
      description: 删除商户
      parameters:
      - description: 商户ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除商户
      tags:
      - 商户管理-商户
    get:
      consumes:
      - application/json
      description: 根据商户ID获取商户信息
      parameters:
      - description: 商户ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/types.MerchantInfoResp'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取商户信息
      tags:
      - 商户管理-商户
    patch:
      consumes:
      - application/json
      description: 修改商户状态，
      parameters:
      - description: 更新商户单个字段信息请求
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.MerchantSimpleUpdateReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新商户单个字段信息
      tags:
      - 商户管理-商户
  /merchant/merchant/brand:
    post:
      consumes:
      - application/json
      description: 创建品牌商户
      parameters:
      - description: 创建品牌商户请求
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.CreateMerchantReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建品牌商户
      tags:
      - 商户管理-商户
  /merchant/merchant/brand/{id}:
    put:
      consumes:
      - application/json
      description: 更新品牌商户
      parameters:
      - description: 商户ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新品牌商户请求
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.UpdateMerchantReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新品牌商户
      tags:
      - 商户管理-商户
  /merchant/merchant/count:
    get:
      description: 获取商户数量统计
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/types.MerchantCount'
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 商户数量统计
      tags:
      - 商户管理-商户
  /merchant/merchant/list:
    get:
      description: 分页查询商户列表
      parameters:
      - description: 管理员手机号
        in: query
        name: admin_phone_number
        type: string
      - in: query
        name: created_at_gte
        type: string
      - in: query
        name: created_at_lte
        type: string
      - description: 商户名称
        in: query
        name: merchant_name
        type: string
      - description: '商户类型: 品牌商户,门店商户'
        enum:
        - brand
        - store
        in: query
        name: merchant_type
        type: string
        x-enum-comments:
          MerchantTypeBrand: 品牌商户
          MerchantTypeStore: 门店商户
        x-enum-descriptions:
        - 品牌商户
        - 门店商户
        x-enum-varnames:
        - MerchantTypeBrand
        - MerchantTypeStore
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 省份 ID
        in: query
        name: province_id
        type: string
      - description: 每页数量
        in: query
        name: size
        type: integer
      - description: '状态: 正常,停用,过期'
        enum:
        - active
        - expired
        - disabled
        in: query
        name: status
        type: string
        x-enum-comments:
          MerchantStatusActive: 已激活
          MerchantStatusDisabled: 已禁用
          MerchantStatusExpired: 已过期
        x-enum-descriptions:
        - 已激活
        - 已过期
        - 已禁用
        x-enum-varnames:
        - MerchantStatusActive
        - MerchantStatusExpired
        - MerchantStatusDisabled
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/types.MerchantListResp'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 商户列表
      tags:
      - 商户管理-商户
  /merchant/merchant/renewal:
    post:
      consumes:
      - application/json
      description: 商户续费续期
      parameters:
      - description: 商户续期请求
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.MerchantRenewalReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 商户续期
      tags:
      - 商户管理-商户
  /merchant/merchant/store:
    post:
      consumes:
      - application/json
      description: 创建门店商户（商户 + 门店）
      parameters:
      - description: 创建门店商户请求
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.CreateStoreMerchantReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建门店商户
      tags:
      - 商户管理-商户
  /merchant/merchant/store/{id}:
    put:
      consumes:
      - application/json
      description: 更新门店商户（商户 + 门店）
      parameters:
      - description: 商户ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新门店商户请求
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.UpdateStoreMerchantReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新门店商户
      tags:
      - 商户管理-商户
  /merchant/store:
    post:
      consumes:
      - application/json
      description: 创建单个门店
      parameters:
      - description: 创建门店请求
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.CreateStoreReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 创建门店
      tags:
      - 商户管理-门店
  /merchant/store/{id}:
    delete:
      consumes:
      - application/json
      description: 删除单个门店
      parameters:
      - description: 门店ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 删除门店
      tags:
      - 商户管理-门店
    get:
      consumes:
      - application/json
      description: 根据门店ID获取门店信息
      parameters:
      - description: 门店ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/domain.Store'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 获取门店
      tags:
      - 商户管理-门店
    patch:
      consumes:
      - application/json
      description: 修改门店状态，
      parameters:
      - description: 更新门店单个字段信息请求
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.StoreSimpleUpdateReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新门店单个字段信息
      tags:
      - 商户管理-门店
    put:
      consumes:
      - application/json
      description: 更新单个门店
      parameters:
      - description: 门店ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新门店请求
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.UpdateStoreReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 更新门店
      tags:
      - 商户管理-门店
  /merchant/store/list:
    get:
      description: 分页查询门店列表
      parameters:
      - description: 管理员手机号
        in: query
        name: admin_phone_number
        type: string
      - description: 直营/加盟
        enum:
        - direct
        - franchisee
        in: query
        name: business_model
        type: string
        x-enum-comments:
          BusinessModelDirect: 直营
          BusinessModelFranchisee: 加盟
        x-enum-descriptions:
        - 直营
        - 加盟
        x-enum-varnames:
        - BusinessModelDirect
        - BusinessModelFranchisee
      - description: 业态类型
        in: query
        name: business_type_id
        type: string
      - in: query
        name: created_at_gte
        type: string
      - in: query
        name: created_at_lte
        type: string
      - description: 商户 ID
        in: query
        name: merchant_id
        type: string
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 省份 ID
        in: query
        name: province_id
        type: string
      - description: 每页数量
        in: query
        name: size
        type: integer
      - description: 营业/停业
        enum:
        - open
        - closed
        in: query
        name: status
        type: string
        x-enum-comments:
          StoreStatusClosed: 停业
          StoreStatusOpen: 营业
        x-enum-descriptions:
        - 营业
        - 停业
        x-enum-varnames:
        - StoreStatusOpen
        - StoreStatusClosed
      - description: 门店名称
        in: query
        name: store_name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/response.Response'
            - properties:
                data:
                  $ref: '#/definitions/types.StoreListResp'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/response.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/response.Response'
      security:
      - BearerAuth: []
      summary: 门店列表
      tags:
      - 商户管理-门店
  /oss/token:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OssTokenReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.OssTokenResp'
      security:
      - BearerAuth: []
      summary: 获取OSS Token
      tags:
      - 阿里OSS
  /user/info:
    post:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.AdminUser'
      security:
      - BearerAuth: []
      summary: 获取当前用户信息
      tags:
      - 用户管理
  /user/login:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.LoginReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.LoginResp'
      security:
      - BearerAuth: []
      summary: 用户登录
      tags:
      - 用户管理
  /user/logout:
    post:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 用户登出
      tags:
      - 用户管理
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and the JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
