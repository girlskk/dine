basePath: /api/v1
definitions:
  domain.Address:
    properties:
      address:
        description: 详细地址
        type: string
      city_id:
        description: 城市 ID
        type: string
      city_name:
        description: 城市名称
        type: string
      country_id:
        description: 国家/地区 ID
        type: string
      country_name:
        description: 国家/地区 名称
        type: string
      district_id:
        description: 区县 ID
        type: string
      district_name:
        description: 区县名称
        type: string
      lat:
        description: 纬度
        type: string
      lng:
        description: 经度
        type: string
      province_id:
        description: 省份 ID
        type: string
      province_name:
        description: 省份名称
        type: string
    type: object
  domain.BusinessHours:
    properties:
      end_time:
        description: 结束时间，格式 HH:MM:SS
        type: string
      start_time:
        description: 开始时间，格式 HH:MM:SS
        type: string
      weekdays:
        description: 适用的星期几，0=星期日，1=星期一，依此类推
        items:
          type: integer
        type: array
    type: object
  domain.BusinessModel:
    enum:
    - direct
    - franchisee
    type: string
    x-enum-comments:
      BusinessModelDirect: 直营
      BusinessModelFranchisee: 加盟
    x-enum-descriptions:
    - 直营
    - 加盟
    x-enum-varnames:
    - BusinessModelDirect
    - BusinessModelFranchisee
  domain.Category:
    properties:
      children:
        description: '@TODO 关联信息'
        items:
          $ref: '#/definitions/domain.Category'
        type: array
      created_at:
        description: 创建时间
        type: string
      id:
        description: 分类ID
        type: string
      inherit_stall:
        description: 是否继承父分类的出品部门ID
        type: boolean
      inherit_tax_rate:
        description: 是否继承父分类的税率ID
        type: boolean
      merchant_id:
        description: 品牌商ID
        type: string
      name:
        description: 分类名称
        type: string
      parent:
        allOf:
        - $ref: '#/definitions/domain.Category'
        description: 父分类
      parent_id:
        description: 父分类ID
        type: string
      product_count:
        description: 关联的商品数量
        type: integer
      sort_order:
        description: 排序，值越小越靠前
        type: integer
      stall_id:
        description: 出品部门ID
        type: string
      store_id:
        description: 门店ID
        type: string
      tax_rate_id:
        description: 税率ID
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.DiningPeriod:
    properties:
      end_time:
        description: 结束时间，格式 HH:MM:SS
        type: string
      name:
        description: 名称，如“用餐时段1”
        type: string
      start_time:
        description: 开始时间，格式 HH:MM:SS
        type: string
    type: object
  domain.ProductSpec:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        description: 规格ID
        type: string
      merchant_id:
        description: 品牌商ID
        type: string
      name:
        description: 规格名称
        type: string
      product_count:
        description: 关联的商品数量
        type: integer
      store_id:
        description: 门店ID
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductSpecSearchRes:
    properties:
      items:
        items:
          $ref: '#/definitions/domain.ProductSpec'
        type: array
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
  domain.ProductTag:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        description: 标签ID
        type: string
      merchant_id:
        description: 品牌商ID
        type: string
      name:
        description: 标签名称
        type: string
      product_count:
        description: 关联的商品数量
        type: integer
      store_id:
        description: 门店ID
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductTagSearchRes:
    properties:
      items:
        items:
          $ref: '#/definitions/domain.ProductTag'
        type: array
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
  domain.ProductUnit:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        description: 单位ID
        type: string
      merchant_id:
        description: 品牌商ID
        type: string
      name:
        description: 单位名称
        type: string
      product_count:
        description: 关联的商品数量
        type: integer
      store_id:
        description: 门店ID
        type: string
      type:
        allOf:
        - $ref: '#/definitions/domain.ProductUnitType'
        description: 单位类型：quantity（数量单位）、weight（重量单位）
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductUnitSearchRes:
    properties:
      items:
        items:
          $ref: '#/definitions/domain.ProductUnit'
        type: array
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
  domain.ProductUnitType:
    enum:
    - quantity
    - weight
    type: string
    x-enum-comments:
      ProductUnitTypeQuantity: 数量单位
      ProductUnitTypeWeight: 重量单位
    x-enum-descriptions:
    - 数量单位
    - 重量单位
    x-enum-varnames:
    - ProductUnitTypeQuantity
    - ProductUnitTypeWeight
  domain.ShiftTime:
    properties:
      end_time:
        description: 结束时间，格式 HH:MM:SS
        type: string
      name:
        description: 名称，如“班次1”
        type: string
      start_time:
        description: 开始时间，格式 HH:MM:SS
        type: string
    type: object
  domain.Store:
    properties:
      address:
        allOf:
        - $ref: '#/definitions/domain.Address'
        description: 地址
      admin_phone_number:
        description: 管理员手机号
        type: string
      admin_user_id:
        description: 登陆账号 ID
        type: string
      business_hours:
        description: 营业时间段
        items:
          $ref: '#/definitions/domain.BusinessHours'
        type: array
      business_license_url:
        description: 营业执照图片地址
        type: string
      business_model:
        allOf:
        - $ref: '#/definitions/domain.BusinessModel'
        description: 经营模式：直营 加盟
      business_type_id:
        description: 业态类型
        type: string
      business_type_name:
        description: 业务类型名称
        type: string
      cashier_desk_url:
        description: 收银台照片地址
        type: string
      contact_name:
        description: 联系人
        type: string
      contact_phone:
        description: 联系电话
        type: string
      created_at:
        type: string
      dining_environment_url:
        description: 就餐环境照片地址
        type: string
      dining_periods:
        description: 就餐时段
        items:
          $ref: '#/definitions/domain.DiningPeriod'
        type: array
      food_operation_license_url:
        description: 食品经营许可证照片地址
        type: string
      id:
        type: string
      location_number:
        description: 门店位置编号
        type: string
      login_account:
        description: 登录账号
        type: string
      login_password:
        description: 登录密码(加密存储)
        type: string
      merchant_id:
        description: 商户 ID
        type: string
      merchant_name:
        description: 商户名称
        type: string
      shift_times:
        description: 班次时间
        items:
          $ref: '#/definitions/domain.ShiftTime'
        type: array
      status:
        allOf:
        - $ref: '#/definitions/domain.StoreStatus'
        description: '状态: 营业 停业'
      store_code:
        description: 门店编码(保留字段)
        type: string
      store_logo:
        description: logo 图片地址
        type: string
      store_name:
        description: 门店名称,长度不超过30个字
        type: string
      store_short_name:
        description: 门店简称
        type: string
      storefront_url:
        description: 门店门头照片地址
        type: string
      unified_social_credit_code:
        description: 统一社会信用代码
        type: string
      updated_at:
        type: string
    type: object
  domain.StoreStatus:
    enum:
    - open
    - closed
    type: string
    x-enum-comments:
      StoreStatusClosed: 停业
      StoreStatusOpen: 营业
    x-enum-descriptions:
    - 营业
    - 停业
    x-enum-varnames:
    - StoreStatusOpen
    - StoreStatusClosed
  domain.StoreUser:
    properties:
      id:
        type: string
      merchant_id:
        description: 品牌商ID
        type: string
      nickname:
        type: string
      store:
        allOf:
        - $ref: '#/definitions/domain.Store'
        description: 关联数据
      store_id:
        description: 门店ID
        type: string
      username:
        type: string
    type: object
  types.CategoryCreateChildReq:
    properties:
      inherit_stall:
        description: 是否继承父分类的出品部门ID
        type: boolean
      inherit_tax_rate:
        description: 是否继承父分类的税率ID
        type: boolean
      name:
        description: 分类名称
        maxLength: 255
        type: string
      stall_id:
        description: 出品部门ID
        type: string
      tax_rate_id:
        description: 税率ID
        type: string
    required:
    - name
    type: object
  types.CategoryCreateRootReq:
    properties:
      children_names:
        description: 子分类名称列表
        items:
          type: string
        type: array
      name:
        description: 分类名称
        maxLength: 255
        type: string
      stall_id:
        description: 出品部门ID
        type: string
      tax_rate_id:
        description: 税率ID
        type: string
    required:
    - name
    type: object
  types.LoginReq:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  types.LoginResp:
    properties:
      expire:
        type: integer
      token:
        type: string
    type: object
  types.ProductSpecCreateReq:
    properties:
      name:
        description: 规格名称
        maxLength: 255
        type: string
    required:
    - name
    type: object
  types.ProductSpecUpdateReq:
    properties:
      name:
        description: 规格名称
        maxLength: 255
        type: string
    required:
    - name
    type: object
  types.ProductTagCreateReq:
    properties:
      name:
        description: 标签名称
        maxLength: 255
        type: string
    required:
    - name
    type: object
  types.ProductTagUpdateReq:
    properties:
      name:
        description: 标签名称
        maxLength: 255
        type: string
    required:
    - name
    type: object
  types.ProductUnitCreateReq:
    properties:
      name:
        description: 单位名称
        maxLength: 255
        type: string
      type:
        description: 单位类型：quantity（数量单位）、weight（重量单位）
        enum:
        - quantity
        - weight
        type: string
    required:
    - name
    - type
    type: object
  types.ProductUnitUpdateReq:
    properties:
      name:
        description: 单位名称
        maxLength: 255
        type: string
      type:
        description: 单位类型：quantity（数量单位）、weight（重量单位）
        enum:
        - quantity
        - weight
        type: string
    required:
    - name
    - type
    type: object
  types.UpdateCategoryReq:
    properties:
      inherit_stall:
        description: 是否继承父分类的出品部门ID（仅子分类有效）
        type: boolean
      inherit_tax_rate:
        description: 是否继承父分类的税率ID（仅子分类有效）
        type: boolean
      name:
        description: 分类名称
        maxLength: 255
        type: string
      stall_id:
        description: 出品部门ID
        type: string
      tax_rate_id:
        description: 税率ID
        type: string
    type: object
info:
  contact: {}
  description: 供门店后台调用.
  title: 门店后台 API
  version: "1.0"
paths:
  /product/category:
    get:
      responses:
        "200":
          description: 成功
          schema:
            items:
              items:
                $ref: '#/definitions/domain.Category'
              type: array
            type: array
      security:
      - BearerAuth: []
      summary: 获取商品分类列表
      tags:
      - 商品分类
    post:
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.CategoryCreateRootReq'
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 创建一级商品分类
      tags:
      - 商品分类
  /product/category/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 分类ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 删除商品分类
      tags:
      - 商品分类
    post:
      parameters:
      - description: 父分类ID
        in: path
        name: id
        required: true
        type: string
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.CategoryCreateChildReq'
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 创建二级商品分类
      tags:
      - 商品分类
    put:
      consumes:
      - application/json
      parameters:
      - description: 分类ID
        in: path
        name: id
        required: true
        type: string
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.UpdateCategoryReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 更新商品分类
      tags:
      - 商品分类
  /product/spec:
    get:
      parameters:
      - description: 规格名称
        in: query
        maxLength: 255
        name: name
        type: string
      - description: 页码
        in: query
        minimum: 1
        name: page
        type: integer
      - description: 每页数量
        in: query
        minimum: 1
        name: size
        type: integer
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.ProductSpecSearchRes'
      security:
      - BearerAuth: []
      summary: 获取商品规格列表
      tags:
      - 商品规格
    post:
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductSpecCreateReq'
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 创建商品规格
      tags:
      - 商品规格
  /product/spec/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 规格ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 删除商品规格
      tags:
      - 商品规格
    put:
      consumes:
      - application/json
      parameters:
      - description: 规格ID
        in: path
        name: id
        required: true
        type: string
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductSpecUpdateReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 更新商品规格
      tags:
      - 商品规格
  /product/tag:
    get:
      parameters:
      - description: 标签名称
        in: query
        maxLength: 255
        name: name
        type: string
      - description: 页码
        in: query
        minimum: 1
        name: page
        type: integer
      - description: 每页数量
        in: query
        minimum: 1
        name: size
        type: integer
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.ProductTagSearchRes'
      security:
      - BearerAuth: []
      summary: 获取商品标签列表
      tags:
      - 商品标签
    post:
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductTagCreateReq'
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 创建商品标签
      tags:
      - 商品标签
  /product/tag/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 标签ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 删除商品标签
      tags:
      - 商品标签
    put:
      consumes:
      - application/json
      parameters:
      - description: 标签ID
        in: path
        name: id
        required: true
        type: string
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductTagUpdateReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 更新商品标签
      tags:
      - 商品标签
  /product/unit:
    get:
      parameters:
      - description: 单位名称
        in: query
        maxLength: 255
        name: name
        type: string
      - description: 页码
        in: query
        minimum: 1
        name: page
        type: integer
      - description: 每页数量
        in: query
        minimum: 1
        name: size
        type: integer
      - description: 单位类型：quantity（数量单位）、weight（重量单位）
        enum:
        - quantity
        - weight
        in: query
        name: type
        type: string
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.ProductUnitSearchRes'
      security:
      - BearerAuth: []
      summary: 获取商品单位列表
      tags:
      - 商品单位
    post:
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductUnitCreateReq'
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 创建商品单位
      tags:
      - 商品单位
  /product/unit/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 单位ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 删除商品单位
      tags:
      - 商品单位
    put:
      consumes:
      - application/json
      parameters:
      - description: 单位ID
        in: path
        name: id
        required: true
        type: string
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductUnitUpdateReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 更新商品单位
      tags:
      - 商品单位
  /user/info:
    post:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.StoreUser'
      security:
      - BearerAuth: []
      summary: 获取当前用户信息
      tags:
      - 用户管理
  /user/login:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.LoginReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.LoginResp'
      security:
      - BearerAuth: []
      summary: 用户登录
      tags:
      - 用户管理
  /user/logout:
    post:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 用户登出
      tags:
      - 用户管理
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and the JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
