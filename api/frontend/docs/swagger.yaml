basePath: /api/v1
definitions:
  domain.AdditionalCategory:
    enum:
    - service_fee
    - additional_fee
    - packing_fee
    type: string
    x-enum-comments:
      AdditionalCategoryAdditional: 附加费
      AdditionalCategoryPacking: 打包费
      AdditionalCategoryService: 服务费
    x-enum-varnames:
    - AdditionalCategoryService
    - AdditionalCategoryAdditional
    - AdditionalCategoryPacking
  domain.AdditionalFee:
    properties:
      charge_mode:
        allOf:
        - $ref: '#/definitions/domain.AdditionalFeeChargeMode'
        description: 费用类型 percent 百分比，fixed 固定金额
      created_at:
        type: string
      dining_ways:
        description: 就餐方式
        items:
          $ref: '#/definitions/domain.DiningWay'
        type: array
      discount_scope:
        allOf:
        - $ref: '#/definitions/domain.AdditionalFeeDiscountScope'
        description: 折扣场景
      enabled:
        description: 是否启用
        type: boolean
      fee_category:
        allOf:
        - $ref: '#/definitions/domain.AdditionalCategory'
        description: 附加费类别
      fee_type:
        allOf:
        - $ref: '#/definitions/domain.AdditionalFeeType'
        description: 附加费类型
      fee_value:
        description: 'fixed: 分; percent: BP'
        type: number
      id:
        type: string
      include_in_receivable:
        description: 是否计入实收
        type: boolean
      merchant_id:
        description: 品牌商 ID
        type: string
      name:
        description: 附加费名称
        type: string
      order_channels:
        description: 订单渠道
        items:
          $ref: '#/definitions/domain.OrderChannel'
        type: array
      sort_order:
        description: 排序
        type: integer
      store_id:
        description: 门店 ID
        type: string
      taxable:
        description: 附加费是否收税
        type: boolean
      updated_at:
        type: string
    type: object
  domain.AdditionalFeeChargeMode:
    enum:
    - percent
    - fixed
    type: string
    x-enum-comments:
      AdditionalFeeChargeModeFixed: 固定金额
      AdditionalFeeChargeModePercent: 百分比
    x-enum-varnames:
    - AdditionalFeeChargeModePercent
    - AdditionalFeeChargeModeFixed
  domain.AdditionalFeeDiscountScope:
    enum:
    - before_discount
    - after_discount
    type: string
    x-enum-comments:
      AdditionalFeeDiscountScopeAfter: 折后
      AdditionalFeeDiscountScopeBefore: 折前
    x-enum-varnames:
    - AdditionalFeeDiscountScopeBefore
    - AdditionalFeeDiscountScopeAfter
  domain.AdditionalFeeType:
    enum:
    - merchant
    - store
    type: string
    x-enum-comments:
      AdditionalFeeTypeMerchant: 商户
      AdditionalFeeTypeStore: 门店
    x-enum-varnames:
    - AdditionalFeeTypeMerchant
    - AdditionalFeeTypeStore
  domain.Category:
    properties:
      children:
        description: 关联信息
        items:
          $ref: '#/definitions/domain.Category'
        type: array
      created_at:
        description: 创建时间
        type: string
      id:
        description: 分类ID
        type: string
      inherit_stall:
        description: 是否继承父分类的出品部门ID
        type: boolean
      inherit_tax_rate:
        description: 是否继承父分类的税率ID
        type: boolean
      merchant_id:
        description: 品牌商ID
        type: string
      name:
        description: 分类名称
        type: string
      parent:
        allOf:
        - $ref: '#/definitions/domain.Category'
        description: 父分类
      parent_id:
        description: 父分类ID
        type: string
      product_count:
        description: 关联的商品数量
        type: integer
      sort_order:
        description: 排序，值越小越靠前
        type: integer
      stall:
        allOf:
        - $ref: '#/definitions/domain.Stall'
        description: 出品部门
      stall_id:
        description: 出品部门ID
        type: string
      store_id:
        description: 门店ID
        type: string
      tax_rate:
        allOf:
        - $ref: '#/definitions/domain.TaxFee'
        description: 税率
      tax_rate_id:
        description: 税率ID
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.Channel:
    enum:
    - POS
    type: string
    x-enum-comments:
      ChannelPOS: POS终端
    x-enum-varnames:
    - ChannelPOS
  domain.DiningMode:
    enum:
    - DINE_IN
    type: string
    x-enum-comments:
      DiningModeDineIn: 堂食
    x-enum-varnames:
    - DiningModeDineIn
  domain.DiningWay:
    enum:
    - dine_in
    - take_out
    - delivery
    type: string
    x-enum-comments:
      DiningWayDelivery: 外送
      DiningWayDineIn: 堂食
      DiningWayTakeOut: 外带
    x-enum-varnames:
    - DiningWayDineIn
    - DiningWayTakeOut
    - DiningWayDelivery
  domain.EffectiveDateType:
    enum:
    - daily
    - custom
    type: string
    x-enum-comments:
      EffectiveDateTypeCustom: 自定义
      EffectiveDateTypeDaily: 按天
    x-enum-varnames:
    - EffectiveDateTypeDaily
    - EffectiveDateTypeCustom
  domain.FeeType:
    enum:
    - SERVICE
    - PACKAGING
    type: string
    x-enum-comments:
      FeeTypePackaging: 打包费
      FeeTypeService: 服务费
    x-enum-varnames:
    - FeeTypeService
    - FeeTypePackaging
  domain.Order:
    properties:
      amount:
        allOf:
        - $ref: '#/definitions/domain.OrderAmount'
        description: 金额汇总
      business_date:
        description: 营业日
        type: string
      cashier:
        allOf:
        - $ref: '#/definitions/domain.OrderCashier'
        description: 收银员信息
      channel:
        allOf:
        - $ref: '#/definitions/domain.Channel'
        description: 下单渠道
      completed_at:
        description: 完成时间
        type: string
      created_at:
        type: string
      dining_mode:
        allOf:
        - $ref: '#/definitions/domain.DiningMode'
        description: 堂食/外卖
      fees:
        description: 费用
        items:
          $ref: '#/definitions/domain.OrderFee'
        type: array
      guest_count:
        description: 用餐人数
        type: integer
      id:
        type: string
      merchant_id:
        description: 品牌商ID
        type: string
      order_no:
        description: 订单号
        type: string
      order_products:
        description: 订单商品明细
        items:
          $ref: '#/definitions/domain.OrderProduct'
        type: array
      order_status:
        allOf:
        - $ref: '#/definitions/domain.OrderStatus'
        description: 订单状态
      order_type:
        allOf:
        - $ref: '#/definitions/domain.OrderType'
        description: 订单类型
      paid_at:
        description: 支付完成时间
        type: string
      payment_status:
        allOf:
        - $ref: '#/definitions/domain.PaymentStatus'
        description: 支付状态
      payments:
        description: 支付记录
        items:
          $ref: '#/definitions/domain.OrderPayment'
        type: array
      placed_at:
        description: 下单时间
        type: string
      placed_by:
        description: 下单人ID
        type: string
      placed_by_name:
        description: 下单人名称
        type: string
      pos:
        allOf:
        - $ref: '#/definitions/domain.OrderPOS'
        description: POS 终端信息
      remark:
        description: 整单备注
        type: string
      shift_no:
        description: 班次号
        type: string
      store:
        allOf:
        - $ref: '#/definitions/domain.OrderStore'
        description: 门店信息
      store_id:
        description: 门店ID
        type: string
      table_id:
        description: 桌位ID
        type: string
      table_name:
        description: 桌位名称
        type: string
      tax_rates:
        description: 税率
        items:
          $ref: '#/definitions/domain.OrderTaxRate'
        type: array
      updated_at:
        type: string
    type: object
  domain.OrderAmount:
    properties:
      amount_due:
        description: 应收
        type: number
      amount_paid:
        description: 实收
        type: number
      amount_refunded:
        description: 已退款
        type: number
      change_amount:
        description: 找零
        type: number
      delivery_fee:
        description: 配送费
        type: number
      discount_total:
        description: 折扣合计
        type: number
      fee_total:
        description: 其他费用合计
        type: number
      items_subtotal:
        description: 商品小计
        type: number
      overpay_amount:
        description: 溢收
        type: number
      rounding_amount:
        description: 舍入/抹零
        type: number
      service_fee_total:
        description: 服务费合计
        type: number
      tax_total:
        description: 税费合计
        type: number
    type: object
  domain.OrderCashier:
    properties:
      cashier_id:
        description: 收银员ID
        type: string
      cashier_name:
        description: 收银员名称
        type: string
    type: object
  domain.OrderChannel:
    enum:
    - pos
    - self_order
    - mini_program
    - mobile_order
    - scan_order
    - third_delivery
    type: string
    x-enum-comments:
      OrderChannelMiniProgram: 小程序
      OrderChannelMobileOrder: 手机点餐
      OrderChannelPOS: POS 端
      OrderChannelScanOrder: 扫码点餐
      OrderChannelSelfOrder: 自助点餐
      OrderChannelThirdDelivery: 三方外卖
    x-enum-varnames:
    - OrderChannelPOS
    - OrderChannelSelfOrder
    - OrderChannelMiniProgram
    - OrderChannelMobileOrder
    - OrderChannelScanOrder
    - OrderChannelThirdDelivery
  domain.OrderFee:
    properties:
      amount:
        description: 费用金额
        type: number
      fee_id:
        description: 费用ID
        type: string
      fee_name:
        description: 费用名称
        type: string
      fee_type:
        allOf:
        - $ref: '#/definitions/domain.FeeType'
        description: 费用类型
      meta:
        description: 扩展信息
    type: object
  domain.OrderPOS:
    properties:
      id:
        description: POS 设备id
        type: string
      name:
        description: POS 设备名称
        type: string
    type: object
  domain.OrderPayment:
    properties:
      cashier:
        allOf:
        - $ref: '#/definitions/domain.OrderCashier'
        description: 收银员信息
      paid_at:
        description: 支付时间
        type: string
      payment_amount:
        description: 支付金额
        type: number
      payment_method:
        allOf:
        - $ref: '#/definitions/domain.PaymentMethodPayType'
        description: 支付方式
      payment_no:
        description: 支付号（第三方/外部交易号）
        type: string
      payment_status:
        allOf:
        - $ref: '#/definitions/domain.PaymentStatus'
        description: 支付状态
      pos:
        allOf:
        - $ref: '#/definitions/domain.OrderPOS'
        description: POS 终端信息
      refund_amount:
        description: 退款金额
        type: number
    type: object
  domain.OrderProduct:
    properties:
      amount_after_tax:
        description: 税后金额
        type: number
      amount_before_tax:
        description: 税前金额
        type: number
      attr_relations:
        description: 口味做法信息
        items:
          $ref: '#/definitions/domain.ProductAttrRelation'
        type: array
      category_id:
        description: 分类ID
        type: string
      created_at:
        type: string
      description:
        description: 菜品描述
        type: string
      discount_amount:
        description: 优惠金额
        type: number
      gift_qty:
        description: 赠送数量
        type: integer
      groups:
        description: 套餐信息（仅套餐商品使用）
        items:
          $ref: '#/definitions/domain.SetMealGroup'
        type: array
      id:
        type: string
      index:
        description: 下单序号（同订单内第几次下单）
        type: integer
      is_gift:
        description: 是否赠送
        type: boolean
      main_image:
        description: 商品主图
        type: string
      note:
        description: 其他信息
        type: string
      order_id:
        description: 订单关联
        type: string
      order_item_id:
        description: 订单内明细ID
        type: string
      price:
        description: 数量与金额
        type: number
      product_id:
        description: 商品基础信息
        type: string
      product_name:
        description: 商品名称
        type: string
      product_type:
        allOf:
        - $ref: '#/definitions/domain.ProductType'
        description: 商品类型
      promotion_discount:
        description: 促销信息
        type: number
      qty:
        description: 数量
        type: integer
      refund_reason:
        description: 退菜原因
        type: string
      refunded_at:
        description: 退菜时间
        type: string
      refunded_by:
        description: 退菜操作人
        type: string
      spec_relations:
        description: 规格信息
        items:
          $ref: '#/definitions/domain.ProductSpecRelation'
        type: array
      subtotal:
        description: 小计
        type: number
      tax:
        description: 税额
        type: number
      tax_rate:
        description: 税率（百分比，如 6.00 表示 6%）
        type: number
      total:
        description: 合计
        type: number
      unit_id:
        description: 单位ID
        type: string
      updated_at:
        type: string
      void_amount:
        description: 已退菜金额汇总
        type: number
      void_qty:
        description: 退菜信息
        type: integer
    type: object
  domain.OrderStatus:
    enum:
    - PLACED
    - COMPLETED
    - CANCELLED
    type: string
    x-enum-comments:
      OrderStatusCancelled: 已取消
      OrderStatusCompleted: 已完成
      OrderStatusPlaced: 已下单
    x-enum-varnames:
    - OrderStatusPlaced
    - OrderStatusCompleted
    - OrderStatusCancelled
  domain.OrderStore:
    properties:
      contact_phone:
        description: 联系电话
        type: string
      id:
        type: string
      merchant_id:
        description: 商户 ID
        type: string
      merchant_name:
        description: 商户名称
        type: string
      store_code:
        description: 门店编码(保留字段)
        type: string
      store_name:
        description: 门店名称
        type: string
    type: object
  domain.OrderTaxRate:
    properties:
      meta:
        description: 扩展信息
      rate:
        description: 税率（百分比）
        type: number
      tax_amount:
        description: 税额
        type: number
      tax_rate_id:
        description: 税率ID
        type: string
      tax_rate_name:
        description: 税率名称
        type: string
      taxable_amount:
        description: 计税金额
        type: number
    type: object
  domain.OrderType:
    enum:
    - SALE
    - REFUND
    - PARTIAL_REFUND
    type: string
    x-enum-comments:
      OrderTypePartialRefund: 部分退款单
      OrderTypeRefund: 退单
      OrderTypeSale: 销售单
    x-enum-varnames:
    - OrderTypeSale
    - OrderTypeRefund
    - OrderTypePartialRefund
  domain.PaymentMethod:
    properties:
      accounting_rule:
        allOf:
        - $ref: '#/definitions/domain.PaymentMethodAccountingRule'
        description: 计入规则:income-计入实收,discount-计入优惠
      cash_drawer_status:
        description: 开钱箱状态:false-不开钱箱, true-开钱箱（必选）
        type: boolean
      created_at:
        description: 创建时间
        type: string
      display_channels:
        description: 收银终端显示渠道（可选，可多选）：POS、移动点餐、扫码点餐、自助点餐、三方外卖
        items:
          type: string
        type: array
      fee_rate:
        description: 手续费率,百分比
        type: number
      id:
        type: string
      invoice_rule:
        allOf:
        - $ref: '#/definitions/domain.PaymentMethodInvoiceRule'
        description: 实收部分开票规则:no_invoice-不开发票,actual_amount-按实收金额
      merchant_id:
        description: 品牌商ID
        type: string
      name:
        description: 结算方式名称
        type: string
      payment_type:
        allOf:
        - $ref: '#/definitions/domain.PaymentMethodPayType'
        description: 结算类型:other-其他,cash-现金,offline_card-线下刷卡,custom_coupon-自定义券,partner_coupon-三方合作券
      source:
        allOf:
        - $ref: '#/definitions/domain.PaymentMethodSource'
        description: 来源:brand-品牌,store-门店,system-系统
      source_payment_method_id:
        description: 结算方式来源ID
        type: string
      status:
        description: '启用/停用状态: true-启用, false-停用（必选）'
        type: boolean
      store_id:
        description: 门店ID
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.PaymentMethodAccountingRule:
    enum:
    - income
    - discount
    type: string
    x-enum-comments:
      PaymentMethodAccountingRuleDiscount: 计入优惠
      PaymentMethodAccountingRuleIncome: 计入实收
    x-enum-varnames:
    - PaymentMethodAccountingRuleIncome
    - PaymentMethodAccountingRuleDiscount
  domain.PaymentMethodInvoiceRule:
    enum:
    - no_invoice
    - actual_amount
    type: string
    x-enum-comments:
      PaymentMethodInvoiceRuleActualAmount: 按实收金额
      PaymentMethodInvoiceRuleNotInvoice: 不开发票
    x-enum-varnames:
    - PaymentMethodInvoiceRuleNotInvoice
    - PaymentMethodInvoiceRuleActualAmount
  domain.PaymentMethodPayType:
    enum:
    - cash
    - online_payment
    - member_card
    - custom_coupon
    - partner_coupon
    - bank_card
    type: string
    x-enum-comments:
      PaymentMethodPayTypeBankCard: 银行卡
      PaymentMethodPayTypeCash: 现金
      PaymentMethodPayTypeCustomCoupon: 系统自定义券
      PaymentMethodPayTypeMemberCard: 会员卡
      PaymentMethodPayTypeOnlinePayment: 在线支付
      PaymentMethodPayTypePartnerCoupon: 三方合作券
    x-enum-varnames:
    - PaymentMethodPayTypeCash
    - PaymentMethodPayTypeOnlinePayment
    - PaymentMethodPayTypeMemberCard
    - PaymentMethodPayTypeCustomCoupon
    - PaymentMethodPayTypePartnerCoupon
    - PaymentMethodPayTypeBankCard
  domain.PaymentMethodSearchRes:
    properties:
      items:
        items:
          $ref: '#/definitions/domain.PaymentMethod'
        type: array
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
  domain.PaymentMethodSource:
    enum:
    - brand
    - store
    - system
    type: string
    x-enum-comments:
      PaymentMethodSourceBrand: 品牌
      PaymentMethodSourceStore: 门店
      PaymentMethodSourceSystem: 系统
    x-enum-varnames:
    - PaymentMethodSourceBrand
    - PaymentMethodSourceStore
    - PaymentMethodSourceSystem
  domain.PaymentStatus:
    enum:
    - UNPAID
    - PAYING
    - PAID
    - REFUNDED
    type: string
    x-enum-comments:
      PaymentStatusPaid: 已支付
      PaymentStatusPaying: 支付中
      PaymentStatusRefunded: 全额退款
      PaymentStatusUnpaid: 未支付
    x-enum-varnames:
    - PaymentStatusUnpaid
    - PaymentStatusPaying
    - PaymentStatusPaid
    - PaymentStatusRefunded
  domain.Product:
    properties:
      add_sale_quantity:
        description: 加售份数
        type: integer
      attr_relations:
        description: 商品口味做法关联列表
        items:
          $ref: '#/definitions/domain.ProductAttrRelation'
        type: array
      category:
        allOf:
        - $ref: '#/definitions/domain.Category'
        description: 分类
      category_id:
        description: 基础信息
        type: string
      created_at:
        description: 时间戳
        type: string
      delivery_cost_price:
        description: 外卖成本价（可选，单位：分，仅套餐商品使用）
        type: number
      description:
        description: 菜品描述
        type: string
      detail_images:
        description: 详情图片
        items:
          type: string
        type: array
      effective_date_type:
        allOf:
        - $ref: '#/definitions/domain.EffectiveDateType'
        description: 生效日期类型
      effective_end_time:
        description: 生效结束时间
        type: string
      effective_start_time:
        description: 生效开始时间
        type: string
      estimated_cost_price:
        description: 套餐属性（仅套餐商品使用）
        type: number
      groups:
        allOf:
        - $ref: '#/definitions/domain.SetMealGroups'
        description: 套餐组列表
      id:
        description: 商品ID
        type: string
      inherit_stall:
        description: 是否继承原出品部门
        type: boolean
      inherit_tax_rate:
        description: 其他信息
        type: boolean
      main_image:
        description: 展示信息
        type: string
      menu_id:
        description: 菜单ID
        type: string
      merchant_id:
        description: 品牌商ID
        type: string
      min_sale_quantity:
        description: 起售份数
        type: integer
      mnemonic:
        description: 助记词
        type: string
      name:
        description: 商品名称
        type: string
      sale_channels:
        description: 售卖渠道
        items:
          $ref: '#/definitions/domain.SaleChannel'
        type: array
      sale_status:
        allOf:
        - $ref: '#/definitions/domain.ProductSaleStatus'
        description: 售卖信息
      shelf_life:
        description: 保质期（单位：天）
        type: integer
      spec_relations:
        description: 关联信息
        items:
          $ref: '#/definitions/domain.ProductSpecRelation'
        type: array
      stall:
        allOf:
        - $ref: '#/definitions/domain.Stall'
        description: 出品部门
      stall_id:
        description: 指定出品部门ID
        type: string
      store_id:
        description: 门店ID
        type: string
      support_types:
        description: 支持类型（堂食、外带）
        items:
          $ref: '#/definitions/domain.ProductSupportType'
        type: array
      tags:
        description: 商品标签列表
        items:
          $ref: '#/definitions/domain.ProductTag'
        type: array
      tax_rate:
        allOf:
        - $ref: '#/definitions/domain.TaxFee'
        description: 税率
      tax_rate_id:
        description: 指定税率ID
        type: string
      type:
        allOf:
        - $ref: '#/definitions/domain.ProductType'
        description: 商品类型
      unit:
        allOf:
        - $ref: '#/definitions/domain.ProductUnit'
        description: 单位
      unit_id:
        description: 属性关联
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductAttr:
    properties:
      channels:
        description: 售卖渠道列表
        items:
          $ref: '#/definitions/domain.SaleChannel'
        type: array
      created_at:
        description: 创建时间
        type: string
      id:
        description: 口味做法ID
        type: string
      items:
        description: 关联信息
        items:
          $ref: '#/definitions/domain.ProductAttrItem'
        type: array
      merchant_id:
        description: 品牌商ID
        type: string
      name:
        description: 口味做法名称
        type: string
      product_count:
        description: 关联的商品数量（所有项的关联商品数量累加）
        type: integer
      store_id:
        description: 门店ID
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductAttrItem:
    properties:
      attr_id:
        description: 口味做法ID（外键）
        type: string
      base_price:
        description: 基础加价（单位：分）
        type: number
      created_at:
        description: 创建时间
        type: string
      id:
        description: 口味做法项ID
        type: string
      image:
        description: 图片URL（可选）
        type: string
      name:
        description: 口味做法项名称
        type: string
      product_count:
        description: 关联的商品数量
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductAttrRelation:
    properties:
      attr:
        allOf:
        - $ref: '#/definitions/domain.ProductAttr'
        description: 关联信息
      attr_id:
        description: 口味做法ID
        type: string
      attr_item:
        allOf:
        - $ref: '#/definitions/domain.ProductAttrItem'
        description: 口味做法项
      attr_item_id:
        description: 口味做法项ID
        type: string
      created_at:
        description: 创建时间
        type: string
      id:
        description: 关联ID
        type: string
      is_default:
        description: 是否默认项
        type: boolean
      product_id:
        description: 商品ID
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductSaleStatus:
    enum:
    - on_sale
    - off_sale
    type: string
    x-enum-comments:
      ProductSaleStatusOffSale: 停售
      ProductSaleStatusOnSale: 在售
    x-enum-varnames:
    - ProductSaleStatusOnSale
    - ProductSaleStatusOffSale
  domain.ProductSpecRelation:
    properties:
      barcode:
        description: 条形码
        type: string
      base_price:
        description: 基础价格（单位：分）
        type: number
      created_at:
        description: 创建时间
        type: string
      estimated_cost_price:
        description: 预估成本价（单位：分，可选）
        type: number
      id:
        description: 关联ID
        type: string
      is_default:
        description: 是否默认项
        type: boolean
      member_price:
        description: 会员价（单位：分，可选）
        type: number
      other_price1:
        description: 其他价格1（单位：分，可选）
        type: number
      other_price2:
        description: 其他价格2（单位：分，可选）
        type: number
      other_price3:
        description: 其他价格3（单位：分，可选）
        type: number
      packing_fee:
        allOf:
        - $ref: '#/definitions/domain.AdditionalFee'
        description: 打包费
      packing_fee_id:
        description: 打包费ID（引用费用配置）
        type: string
      product_id:
        description: 商品ID
        type: string
      spec_id:
        description: 规格ID
        type: string
      spec_name:
        description: 关联信息
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductSupportType:
    enum:
    - dine
    - takeaway
    - delivery
    type: string
    x-enum-comments:
      ProductSupportTypeDelivery: 外卖
      ProductSupportTypeDine: 堂食
      ProductSupportTypeTakeaway: 外带
    x-enum-varnames:
    - ProductSupportTypeDine
    - ProductSupportTypeTakeaway
    - ProductSupportTypeDelivery
  domain.ProductTag:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        description: 标签ID
        type: string
      merchant_id:
        description: 品牌商ID
        type: string
      name:
        description: 标签名称
        type: string
      product_count:
        description: 关联的商品数量
        type: integer
      store_id:
        description: 门店ID
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductType:
    enum:
    - normal
    - set_meal
    type: string
    x-enum-comments:
      ProductTypeNormal: 普通商品
      ProductTypeSetMeal: 套餐商品
    x-enum-varnames:
    - ProductTypeNormal
    - ProductTypeSetMeal
  domain.ProductUnit:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        description: 单位ID
        type: string
      merchant_id:
        description: 品牌商ID
        type: string
      name:
        description: 单位名称
        type: string
      product_count:
        description: 关联的商品数量
        type: integer
      store_id:
        description: 门店ID
        type: string
      type:
        allOf:
        - $ref: '#/definitions/domain.ProductUnitType'
        description: 单位类型：quantity（数量单位）、weight（重量单位）
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductUnitType:
    enum:
    - quantity
    - weight
    type: string
    x-enum-comments:
      ProductUnitTypeQuantity: 数量单位
      ProductUnitTypeWeight: 重量单位
    x-enum-varnames:
    - ProductUnitTypeQuantity
    - ProductUnitTypeWeight
  domain.SaleChannel:
    enum:
    - POS
    - Mobile
    - Scan
    - SelfService
    - ThirdParty
    - POS
    - Mobile
    - Scan
    - SelfService
    - ThirdParty
    type: string
    x-enum-comments:
      PaymentMethodDisplayChannelMobileOrdering: 移动点餐
      PaymentMethodDisplayChannelPOS: POS
      PaymentMethodDisplayChannelScanOrdering: 扫码点餐
      PaymentMethodDisplayChannelSelfService: 自助点餐
      PaymentMethodDisplayChannelThirdPartyDelivery: 三方外卖
      SaleChannelMobileOrdering: 移动点餐
      SaleChannelPOS: POS
      SaleChannelScanOrdering: 扫码点餐
      SaleChannelSelfService: 自助点餐
      SaleChannelThirdPartyDelivery: 三方外卖
    x-enum-varnames:
    - PaymentMethodDisplayChannelPOS
    - PaymentMethodDisplayChannelMobileOrdering
    - PaymentMethodDisplayChannelScanOrdering
    - PaymentMethodDisplayChannelSelfService
    - PaymentMethodDisplayChannelThirdPartyDelivery
    - SaleChannelPOS
    - SaleChannelMobileOrdering
    - SaleChannelScanOrdering
    - SaleChannelSelfService
    - SaleChannelThirdPartyDelivery
  domain.SetMealDetail:
    properties:
      created_at:
        description: 创建时间
        type: string
      group_id:
        description: 套餐组ID（外键）
        type: string
      id:
        description: 详情ID
        type: string
      is_default:
        description: 是否默认（必选，每个套餐组中只能有一个默认项）
        type: boolean
      optional_product_ids:
        description: 备选商品ID列表（可选，多选）
        items:
          type: string
        type: array
      optional_products:
        description: 备选商品
        items:
          $ref: '#/definitions/domain.Product'
        type: array
      product:
        allOf:
        - $ref: '#/definitions/domain.Product'
        description: 关联信息
      product_id:
        description: 商品ID（外键，引用普通商品）
        type: string
      quantity:
        description: 数量（必选，必须为正整数）
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.SetMealGroup:
    properties:
      created_at:
        description: 创建时间
        type: string
      details:
        description: 关联信息
        items:
          $ref: '#/definitions/domain.SetMealDetail'
        type: array
      id:
        description: 套餐组ID
        type: string
      name:
        description: 套餐组名称
        type: string
      product_id:
        description: 套餐商品ID（外键）
        type: string
      selection_type:
        allOf:
        - $ref: '#/definitions/domain.SetMealGroupSelectionType'
        description: 点单限制：fixed（固定分组）、optional（可选套餐）
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.SetMealGroupSelectionType:
    enum:
    - fixed
    - optional
    type: string
    x-enum-comments:
      SetMealGroupSelectionTypeFixed: 固定分组
      SetMealGroupSelectionTypeOptional: 可选套餐
    x-enum-varnames:
    - SetMealGroupSelectionTypeFixed
    - SetMealGroupSelectionTypeOptional
  domain.SetMealGroups:
    items:
      $ref: '#/definitions/domain.SetMealGroup'
    type: array
  domain.Stall:
    properties:
      created_at:
        description: 创建时间
        type: string
      enabled:
        description: 使用状态
        type: boolean
      id:
        type: string
      merchant_id:
        description: 商户 ID
        type: string
      name:
        description: 出品部门名称
        type: string
      print_type:
        allOf:
        - $ref: '#/definitions/domain.StallPrintType'
        description: 打印类型 ：receipt/label
      sort_order:
        description: 排序
        type: integer
      stall_type:
        allOf:
        - $ref: '#/definitions/domain.StallType'
        description: system/brand/store
      store_id:
        description: 门店 ID
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.StallPrintType:
    enum:
    - receipt
    - label
    type: string
    x-enum-comments:
      StallPrintTypeLabel: 标签
      StallPrintTypeReceipt: 小票/收据
    x-enum-varnames:
    - StallPrintTypeReceipt
    - StallPrintTypeLabel
  domain.StallType:
    enum:
    - system
    - brand
    - store
    type: string
    x-enum-comments:
      StallTypeBrand: 品牌出品部门
      StallTypeStore: 门店出品部门
      StallTypeSystem: 系统出品部门
    x-enum-varnames:
    - StallTypeSystem
    - StallTypeBrand
    - StallTypeStore
  domain.TaxFee:
    properties:
      created_at:
        type: string
      default_tax:
        description: 是否默认税费
        type: boolean
      id:
        type: string
      merchant_id:
        description: 品牌商 ID
        type: string
      name:
        description: 税费名称
        type: string
      store_id:
        description: 门店 ID
        type: string
      tax_code:
        description: 税费代码
        type: string
      tax_fee_type:
        allOf:
        - $ref: '#/definitions/domain.TaxFeeType'
        description: 税费类型：商户/门店
      tax_rate:
        description: 税率，6% -> 0.06
        type: number
      tax_rate_type:
        allOf:
        - $ref: '#/definitions/domain.TaxRateType'
        description: 税率类型：统一比例/自定义比例
      updated_at:
        type: string
    type: object
  domain.TaxFeeType:
    enum:
    - merchant
    - store
    type: string
    x-enum-comments:
      TaxFeeTypeMerchant: 商户
      TaxFeeTypeStore: 门店
    x-enum-varnames:
    - TaxFeeTypeMerchant
    - TaxFeeTypeStore
  domain.TaxRateType:
    enum:
    - unified
    - custom
    type: string
    x-enum-comments:
      TaxRateTypeCustom: 自定义比例
      TaxRateTypeUnified: 统一比例
    x-enum-varnames:
    - TaxRateTypeUnified
    - TaxRateTypeCustom
  types.CreateOrderReq:
    properties:
      amount:
        allOf:
        - $ref: '#/definitions/domain.OrderAmount'
        description: 金额汇总
      business_date:
        description: 营业日
        type: string
      cashier:
        allOf:
        - $ref: '#/definitions/domain.OrderCashier'
        description: 收银员信息
      channel:
        description: 下单渠道
        enum:
        - POS
        type: string
      dining_mode:
        description: 就餐模式
        enum:
        - DINE_IN
        type: string
      fees:
        description: 费用明细
        items:
          $ref: '#/definitions/domain.OrderFee'
        type: array
      guest_count:
        description: 用餐人数
        type: integer
      order_no:
        description: 订单号
        type: string
      order_products:
        description: 订单商品明细
        items:
          $ref: '#/definitions/domain.OrderProduct'
        type: array
      order_status:
        description: 订单状态
        enum:
        - PLACED
        - COMPLETED
        - CANCELLED
        type: string
      order_type:
        description: 订单类型
        enum:
        - SALE
        - REFUND
        - PARTIAL_REFUND
        type: string
      payment_status:
        description: 支付状态
        enum:
        - UNPAID
        - PAYING
        - PAID
        - REFUNDED
        type: string
      payments:
        description: 支付记录
        items:
          $ref: '#/definitions/domain.OrderPayment'
        type: array
      placed_at:
        description: 下单时间
        type: string
      placed_by:
        description: 下单人
        type: string
      pos:
        allOf:
        - $ref: '#/definitions/domain.OrderPOS'
        description: POS终端信息
      remark:
        description: 整单备注
        type: string
      shift_no:
        description: 班次号
        type: string
      store:
        allOf:
        - $ref: '#/definitions/domain.OrderStore'
        description: 门店信息
      table_id:
        description: 桌位ID
        type: string
      table_name:
        description: 桌位名称
        type: string
      tax_rates:
        description: 税率明细
        items:
          $ref: '#/definitions/domain.OrderTaxRate'
        type: array
    required:
    - business_date
    - dining_mode
    type: object
  types.ListOrderResp:
    properties:
      items:
        description: 订单列表
        items:
          $ref: '#/definitions/domain.Order'
        type: array
      pagination:
        allOf:
        - $ref: '#/definitions/upagination.Pagination'
        description: 分页信息
    type: object
  types.UpdateOrderReq:
    properties:
      amount:
        allOf:
        - $ref: '#/definitions/domain.OrderAmount'
        description: 金额汇总
      business_date:
        description: 营业日
        type: string
      cashier:
        allOf:
        - $ref: '#/definitions/domain.OrderCashier'
        description: 收银员信息
      channel:
        description: 下单渠道
        enum:
        - POS
        type: string
      dining_mode:
        description: 就餐模式
        enum:
        - DINE_IN
        type: string
      fees:
        description: 费用明细
        items:
          $ref: '#/definitions/domain.OrderFee'
        type: array
      guest_count:
        description: 用餐人数
        type: integer
      order_no:
        description: 订单号
        type: string
      order_products:
        description: 订单商品明细
        items:
          $ref: '#/definitions/domain.OrderProduct'
        type: array
      order_status:
        description: 订单状态
        enum:
        - PLACED
        - COMPLETED
        - CANCELLED
        type: string
      order_type:
        description: 订单类型
        enum:
        - SALE
        - REFUND
        - PARTIAL_REFUND
        type: string
      paid_at:
        description: 支付完成时间
        type: string
      payment_status:
        description: 支付状态
        enum:
        - UNPAID
        - PAYING
        - PAID
        - REFUNDED
        type: string
      payments:
        description: 支付记录
        items:
          $ref: '#/definitions/domain.OrderPayment'
        type: array
      placed_at:
        description: 下单时间
        type: string
      placed_by:
        description: 下单人
        type: string
      pos:
        allOf:
        - $ref: '#/definitions/domain.OrderPOS'
        description: POS终端信息
      remark:
        description: 整单备注
        type: string
      shift_no:
        description: 班次号
        type: string
      store:
        allOf:
        - $ref: '#/definitions/domain.OrderStore'
        description: 门店信息
      table_id:
        description: 桌位ID
        type: string
      table_name:
        description: 桌位名称
        type: string
      tax_rates:
        description: 税率明细
        items:
          $ref: '#/definitions/domain.OrderTaxRate'
        type: array
    type: object
  upagination.Pagination:
    properties:
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
info:
  contact: {}
  description: 供收银机等客户端调用.
  title: 前台 API
  version: "1.0"
paths:
  /order:
    get:
      consumes:
      - application/json
      parameters:
      - description: 营业日
        in: query
        name: business_date
        type: string
      - description: 订单号
        in: query
        name: order_no
        type: string
      - description: 订单类型
        enum:
        - SALE
        - REFUND
        - PARTIAL_REFUND
        in: query
        name: order_type
        type: string
      - description: 订单状态
        enum:
        - PLACED
        - COMPLETED
        - CANCELLED
        in: query
        name: order_status
        type: string
      - description: 支付状态
        enum:
        - UNPAID
        - PAYING
        - PAID
        - REFUNDED
        in: query
        name: payment_status
        type: string
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.ListOrderResp'
      security:
      - BearerAuth: []
      summary: 获取订单列表
      tags:
      - 订单
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.CreateOrderReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.Order'
      security:
      - BearerAuth: []
      summary: 创建订单
      tags:
      - 订单
  /order/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 删除订单
      tags:
      - 订单
    get:
      consumes:
      - application/json
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.Order'
      security:
      - BearerAuth: []
      summary: 获取订单详情
      tags:
      - 订单
    put:
      consumes:
      - application/json
      parameters:
      - description: 订单ID
        in: path
        name: id
        required: true
        type: string
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.UpdateOrderReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.Order'
      security:
      - BearerAuth: []
      summary: 更新订单
      tags:
      - 订单
  /payment/method:
    get:
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: size
        type: integer
      - description: 门店ID（可选）
        in: query
        name: store_id
        type: string
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.PaymentMethodSearchRes'
      security:
      - BearerAuth: []
      summary: 查询结算方式列表
      tags:
      - 结算方式管理
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and the JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
