basePath: /api/v1
definitions:
  domain.AreaSearchRes:
    properties:
      items:
        items:
          $ref: '#/definitions/domain.TableArea'
        type: array
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
  domain.BackendUser:
    properties:
      id:
        type: integer
      nickname:
        type: string
      store:
        allOf:
        - $ref: '#/definitions/domain.Store'
        description: 所属门店
      store_id:
        type: integer
      username:
        type: string
    type: object
  domain.Category:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        type: integer
      name:
        description: 分类名称
        type: string
      store_id:
        description: 所属门店ID
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.CategorySearchRes:
    properties:
      items:
        items:
          $ref: '#/definitions/domain.Category'
        type: array
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
  domain.FrontendUser:
    properties:
      id:
        type: integer
      nickname:
        description: 昵称
        type: string
      store:
        allOf:
        - $ref: '#/definitions/domain.Store'
        description: 所属门店
      store_id:
        description: 所属门店ID
        type: integer
      username:
        description: 用户名
        type: string
    type: object
  domain.OperatorType:
    enum:
    - frontend
    - backend
    - admin
    - system
    - customer
    type: string
    x-enum-comments:
      OperatorTypeAdmin: 管理员
      OperatorTypeBackend: 后台用户
      OperatorTypeCustomer: 顾客
      OperatorTypeFrontend: 前台用户
      OperatorTypeSystem: 系统
    x-enum-varnames:
    - OperatorTypeFrontend
    - OperatorTypeBackend
    - OperatorTypeAdmin
    - OperatorTypeSystem
    - OperatorTypeCustomer
  domain.Order:
    properties:
      alipay_paid:
        description: 支付宝已支付金额
        type: number
      alipay_refunded:
        description: 支付宝已退款金额
        type: number
      cash_paid:
        description: 现金已支付金额
        type: number
      created_at:
        description: 创建时间
        type: string
      creator_id:
        description: 创建人ID
        type: integer
      creator_name:
        description: 创建人姓名
        type: string
      creator_type:
        allOf:
        - $ref: '#/definitions/domain.OperatorType'
        description: 创建人类型
      discount:
        description: 优惠金额
        type: number
      finished_at:
        description: 完成时间
        type: string
      id:
        type: integer
      items:
        description: 订单商品
        items:
          $ref: '#/definitions/domain.OrderItem'
        type: array
      last_paid_at:
        description: 最后支付时间
        type: string
      logs:
        description: 订单日志
        items:
          $ref: '#/definitions/domain.OrderLog'
        type: array
      member_id:
        description: 会员ID
        type: integer
      member_name:
        description: 会员姓名
        type: string
      member_phone:
        description: 会员手机号
        type: string
      "no":
        description: 订单号
        type: string
      paid:
        description: 已支付金额
        type: number
      paid_channels:
        description: 支付渠道
        items:
          $ref: '#/definitions/domain.OrderPaidChannel'
        type: array
      people_number:
        description: 就餐人数
        type: integer
      points_available:
        description: 积分可用额度
        type: number
      points_paid:
        description: 积分已支付金额
        type: number
      points_refunded:
        description: 积分已退款金额
        type: number
      points_wallet_paid:
        description: 知心话钱包已支付金额
        type: number
      points_wallet_refunded:
        description: 知心话钱包已退款金额
        type: number
      real_price:
        description: 实际总价（优惠后）
        type: number
      refunded:
        description: 已退款金额
        type: number
      source:
        allOf:
        - $ref: '#/definitions/domain.OrderSource'
        description: 订单来源
      status:
        allOf:
        - $ref: '#/definitions/domain.OrderStatus'
        description: 订单状态
      store_id:
        description: 门店ID
        type: integer
      store_name:
        description: 门店名称
        type: string
      table_id:
        description: 台桌ID
        type: integer
      table_name:
        description: 台桌名称
        type: string
      total_price:
        description: 总价（优惠前）
        type: number
      type:
        allOf:
        - $ref: '#/definitions/domain.OrderType'
        description: 订单类型
      updated_at:
        description: 更新时间
        type: string
      wechat_paid:
        description: 微信已支付金额
        type: number
      wechat_refunded:
        description: 微信已退款金额
        type: number
    type: object
  domain.OrderItem:
    properties:
      allow_point_pay:
        description: 是否支持积分支付
        type: boolean
      amount:
        description: 商品总金额（商品数量 * 商品实际单价）
        type: number
      created_at:
        description: 创建时间
        type: string
      id:
        description: 订单商品项ID
        type: integer
      name:
        description: 商品名称
        type: string
      order_id:
        description: 订单ID
        type: integer
      price:
        description: 商品实际单价
        type: number
      product_id:
        description: 商品ID
        type: integer
      product_snapshot:
        allOf:
        - $ref: '#/definitions/domain.OrderProductInfoSnapshot'
        description: 商品信息快照
      quantity:
        description: 商品数量
        type: number
      remark:
        description: 备注
        type: string
      set_meal_details:
        description: 套餐商品详情（类型是套餐商品才有）
        items:
          $ref: '#/definitions/domain.OrderItemSetMealDetail'
        type: array
      type:
        allOf:
        - $ref: '#/definitions/domain.ProductType'
        description: 商品类型：1-单规格 2-多规格 3-套餐商品
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.OrderItemSetMealDetail:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        type: integer
      name:
        description: 商品名称
        type: string
      order_item_id:
        description: 订单商品项ID
        type: integer
      product_id:
        description: 商品ID
        type: integer
      product_snapshot:
        allOf:
        - $ref: '#/definitions/domain.OrderProductInfoSnapshot'
        description: 商品信息快照
      quantity:
        description: 数量（支持3位小数）
        type: number
      set_meal_id:
        description: 套餐ID
        type: integer
      set_meal_price:
        description: 套餐内价格
        type: number
      type:
        allOf:
        - $ref: '#/definitions/domain.ProductType'
        description: 商品类型：1-单规格 2-多规格
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.OrderLog:
    properties:
      created_at:
        description: 操作时间
        type: string
      event:
        allOf:
        - $ref: '#/definitions/domain.OrderLogEvent'
        description: '事件 create: 创建订单, append_item: 加菜, remove_item: 退菜, turn_table:
          转台, turn_item: 转菜, paid: 支付, cancel: 取消订单, finish: 订单完成'
      id:
        type: integer
      operator_id:
        description: 操作人ID
        type: integer
      operator_name:
        description: 操作人名称
        type: string
      operator_type:
        allOf:
        - $ref: '#/definitions/domain.OperatorType'
        description: '操作人类型 frontend: 前台用户, backend: 后台用户, admin: 管理员, system: 系统'
      order_id:
        description: 订单ID
        type: integer
    type: object
  domain.OrderLogEvent:
    enum:
    - create
    - append_item
    - remove_item
    - turn_table
    - turn_item
    - paid
    - cancel
    - finish
    type: string
    x-enum-comments:
      OrderLogEventAppendItem: 加菜
      OrderLogEventCancel: 取消
      OrderLogEventCreate: 创建
      OrderLogEventFinish: 完成
      OrderLogEventPaid: 支付
      OrderLogEventRemoveItem: 退菜
      OrderLogEventTurnItem: 转菜
      OrderLogEventTurnTable: 转台
    x-enum-varnames:
    - OrderLogEventCreate
    - OrderLogEventAppendItem
    - OrderLogEventRemoveItem
    - OrderLogEventTurnTable
    - OrderLogEventTurnItem
    - OrderLogEventPaid
    - OrderLogEventCancel
    - OrderLogEventFinish
  domain.OrderPaidChannel:
    enum:
    - cash
    - wechat
    - alipay
    - point
    - point_wallet
    type: string
    x-enum-comments:
      OrderPaidChannelAlipay: 支付宝支付
      OrderPaidChannelCash: 现金支付
      OrderPaidChannelPoint: 积分支付
      OrderPaidChannelPointWallet: 知心话钱包支付
      OrderPaidChannelWechatPay: 微信支付
    x-enum-varnames:
    - OrderPaidChannelCash
    - OrderPaidChannelWechatPay
    - OrderPaidChannelAlipay
    - OrderPaidChannelPoint
    - OrderPaidChannelPointWallet
  domain.OrderProductInfoSnapshot:
    properties:
      attr_id:
        description: 属性ID
        type: integer
      attr_name:
        description: 属性名称
        type: string
      images:
        description: 商品图片
        items:
          type: string
        type: array
      price:
        description: 商品价格
        type: number
      recipe_id:
        description: 做法ID
        type: integer
      recipe_name:
        description: 做法名称
        type: string
      spec_id:
        description: 规格ID
        type: integer
      spec_name:
        description: 规格名称
        type: string
      spec_price:
        description: 规格价格
        type: number
      unit_id:
        description: 单位ID
        type: integer
      unit_name:
        description: 单位名称
        type: string
    type: object
  domain.OrderSource:
    enum:
    - offline
    - mini_program
    type: string
    x-enum-comments:
      OrderSourceMiniProgram: 小程序下单
      OrderSourceOffline: 线下下单
    x-enum-varnames:
    - OrderSourceOffline
    - OrderSourceMiniProgram
  domain.OrderStatus:
    enum:
    - unpaid
    - part_paid
    - paid
    - canceled
    type: string
    x-enum-varnames:
    - OrderStatusUnpaid
    - OrderStatusPartPaid
    - OrderStatusPaid
    - OrderStatusCanceled
  domain.OrderType:
    enum:
    - dine_in
    type: string
    x-enum-comments:
      OrderTypeDineIn: 堂食
    x-enum-varnames:
    - OrderTypeDineIn
  domain.PayState:
    enum:
    - U
    - P
    - S
    - F
    - W
    type: string
    x-enum-comments:
      PayStateFailure: 失败
      PayStateProcessing: 处理中
      PayStateSuccess: 成功
      PayStateUnknown: 未知
      PayStateWaiting: 等待
    x-enum-varnames:
    - PayStateUnknown
    - PayStateProcessing
    - PayStateSuccess
    - PayStateFailure
    - PayStateWaiting
  domain.Product:
    properties:
      allow_point_pay:
        description: 是否支持积分支付
        type: boolean
      attrs:
        description: 商品属性
        items:
          $ref: '#/definitions/domain.ProductAttr'
        type: array
      category:
        allOf:
        - $ref: '#/definitions/domain.Category'
        description: 商品分类
      category_id:
        description: 分类ID
        type: integer
      created_at:
        description: 创建时间
        type: string
      id:
        type: integer
      images:
        description: 商品图片
        items:
          type: string
        type: array
      name:
        description: 商品名称
        type: string
      price:
        description: 商品价格
        type: number
      recipes:
        description: 商品做法
        items:
          $ref: '#/definitions/domain.ProductRecipe'
        type: array
      sale_status:
        allOf:
        - $ref: '#/definitions/domain.ProductSaleStatus'
        description: 商品售卖状态：1-在售 2-售罄 3-部分规格售罄
      set_meal_details:
        description: 套餐详情
        items:
          $ref: '#/definitions/domain.SetMealDetail'
        type: array
      specs:
        description: 关联信息
        items:
          $ref: '#/definitions/domain.ProductSpecRel'
        type: array
      status:
        allOf:
        - $ref: '#/definitions/domain.ProductStatus'
        description: 商品状态：1-待审核 2-审核通过
      store_id:
        description: 所属门店ID
        type: integer
      type:
        allOf:
        - $ref: '#/definitions/domain.ProductType'
        description: 商品类型：1-单规格 2-多规格 3-套餐商品
      unit:
        allOf:
        - $ref: '#/definitions/domain.ProductUnit'
        description: 商品单位
      unit_id:
        description: 单位ID
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductAttr:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        type: integer
      name:
        description: 属性名称（如：辣度、甜度）
        type: string
      store_id:
        description: 所属门店ID
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductRecipe:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        type: integer
      name:
        description: 做法名称（如：加冰、去糖）
        type: string
      store_id:
        description: 所属门店ID
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.ProductSaleStatus:
    enum:
    - 0
    - 1
    - 2
    - 3
    type: integer
    x-enum-comments:
      ProductSaleStatusOff: 售罄
      ProductSaleStatusOn: 在售
      ProductSaleStatusPartOff: 部分规格售罄（对于多规格商品）
    x-enum-varnames:
    - _
    - ProductSaleStatusOn
    - ProductSaleStatusOff
    - ProductSaleStatusPartOff
  domain.ProductSearchRes:
    properties:
      items:
        items:
          $ref: '#/definitions/domain.Product'
        type: array
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
  domain.ProductSpecRel:
    properties:
      id:
        description: 商品-规格ID
        type: integer
      price:
        description: 规格价格
        type: number
      product_id:
        description: 商品ID
        type: integer
      sale_status:
        allOf:
        - $ref: '#/definitions/domain.ProductSaleStatus'
        description: 销售状态
      spec_id:
        description: 规格ID
        type: integer
      spec_name:
        description: 规格名称
        type: string
    type: object
  domain.ProductStatus:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-comments:
      ProductStatusApproved: 审核通过
      ProductStatusUnApprove: 待审核
    x-enum-varnames:
    - _
    - ProductStatusUnApprove
    - ProductStatusApproved
  domain.ProductType:
    enum:
    - 0
    - 1
    - 2
    - 3
    type: integer
    x-enum-comments:
      ProductTypeMulti: 多规格
      ProductTypeSetMeal: 套餐商品
      ProductTypeSingle: 单规格
    x-enum-varnames:
    - _
    - ProductTypeSingle
    - ProductTypeMulti
    - ProductTypeSetMeal
  domain.ProductUnit:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        type: integer
      name:
        description: 单位名称（如：份、杯、碗）
        type: string
      store_id:
        description: 所属门店ID
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.SetMealDetail:
    properties:
      category_id:
        description: 分类ID
        type: integer
      created_at:
        description: 创建时间
        type: string
      id:
        type: integer
      images:
        description: 商品图片
        items:
          type: string
        type: array
      name:
        description: 商品名称
        type: string
      price:
        description: 商品价格
        type: number
      product_id:
        description: 商品详情ID
        type: integer
      product_type:
        allOf:
        - $ref: '#/definitions/domain.ProductType'
        description: 商品类型
      quantity:
        description: 数量（支持3位小数）
        type: number
      set_meal_id:
        description: 套餐商品ID
        type: integer
      set_meal_price:
        description: 套餐内价格
        type: number
      spec:
        allOf:
        - $ref: '#/definitions/domain.ProductSpecRel'
        description: 套餐商品具体规格
      specs:
        description: 商品规格
        items:
          $ref: '#/definitions/domain.ProductSpecRel'
        type: array
      unit:
        allOf:
        - $ref: '#/definitions/domain.ProductUnit'
        description: 商品单位
      unit_id:
        description: 单位ID
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.Store:
    properties:
      backend_user:
        allOf:
        - $ref: '#/definitions/domain.BackendUser'
        description: 后台用户
      cooperation_type:
        allOf:
        - $ref: '#/definitions/domain.StoreCooperationType'
        description: 合作类型
      created_at:
        description: 创建时间
        type: string
      enabled:
        description: 是否启用
        type: boolean
      finance:
        allOf:
        - $ref: '#/definitions/domain.StoreFinance'
        description: 财务信息
      huifu_id:
        description: 汇付ID
        type: string
      id:
        type: integer
      info:
        allOf:
        - $ref: '#/definitions/domain.StoreInfo'
        description: 门店资料
      name:
        description: 名称
        type: string
      need_audit:
        description: 是否需要审核
        type: boolean
      point_settlement_rate:
        description: 积分结算费率（单位：百分比，例如 0.1234 表示 12.34%）
        type: number
      point_withdrawal_rate:
        description: 积分提现费率
        type: number
      type:
        allOf:
        - $ref: '#/definitions/domain.StoreType'
        description: 类型
      updated_at:
        description: 更新时间
        type: string
      zxh_id:
        description: 知心话ID
        type: string
      zxh_secret:
        description: 知心话密钥
        type: string
    type: object
  domain.StoreCooperationType:
    enum:
    - join
    type: string
    x-enum-varnames:
    - StoreCooperationTypeJoin
  domain.StoreFinance:
    properties:
      bank_account:
        description: 银行账号
        type: string
      bank_card_name:
        description: 银行账户名称
        type: string
      bank_name:
        description: 银行名称
        type: string
      branch_name:
        description: 开户支行
        type: string
      company_name:
        description: 公司名称
        type: string
      credit_code:
        description: 统一社会信用代码
        type: string
      public_account:
        description: 对公账号
        type: string
      public_bank_name:
        description: 对公银行名称
        type: string
      public_branch_name:
        description: 对公开户支行
        type: string
      store_id:
        type: integer
    type: object
  domain.StoreInfo:
    properties:
      address:
        description: 详细地址
        type: string
      city:
        description: 省市地区
        type: string
      contact_name:
        description: 门店联系人
        type: string
      contact_phone:
        description: 联系人电话
        type: string
      images:
        allOf:
        - $ref: '#/definitions/domain.StoreInfoImages'
        description: 门店图片
    type: object
  domain.StoreInfoImages:
    properties:
      dine:
        description: 就餐环境图
        type: string
      food_license:
        description: 食品经营许可证
        type: string
      front:
        description: 门店正面图
        type: string
      license:
        description: 营业执照图
        type: string
      logo:
        description: 店标图片
        type: string
    type: object
  domain.StoreType:
    enum:
    - restaurant
    - cafeteria
    type: string
    x-enum-comments:
      StoreTypeCafeteria: 大食堂（不需要台桌）
      StoreTypeRestaurant: 中餐点餐（需要台桌）
    x-enum-varnames:
    - StoreTypeRestaurant
    - StoreTypeCafeteria
  domain.Table:
    properties:
      area:
        allOf:
        - $ref: '#/definitions/domain.TableArea'
        description: 台桌区域
      area_id:
        description: 台桌区域ID
        type: integer
      created_at:
        description: 创建时间
        type: string
      id:
        type: integer
      name:
        description: 台桌名称（如：A1, B2）
        type: string
      order:
        allOf:
        - $ref: '#/definitions/domain.Order'
        description: 台桌当前订单
      order_id:
        description: 订单ID
        type: integer
      seat_count:
        description: 座位数
        type: integer
      status:
        allOf:
        - $ref: '#/definitions/domain.TableStatus'
        description: 状态：1-空闲 2-就餐中
      store_id:
        description: 所属门店ID
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.TableArea:
    properties:
      created_at:
        description: 创建时间
        type: string
      id:
        type: integer
      name:
        description: 区域名称（如：一楼大厅、二楼包间）
        type: string
      store_id:
        description: 所属门店ID
        type: integer
      table_count:
        description: 台桌个数
        type: integer
      updated_at:
        description: 更新时间
        type: string
    type: object
  domain.TableSearchRes:
    properties:
      items:
        items:
          $ref: '#/definitions/domain.Table'
        type: array
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
  domain.TableStatus:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-comments:
      TableStatusFree: 空闲
      TableStatusOccupied: 占用中
    x-enum-varnames:
    - _
    - TableStatusFree
    - TableStatusOccupied
  types.CategoryListReq:
    properties:
      page:
        type: integer
      size:
        type: integer
    type: object
  types.CreateOrderReq:
    properties:
      items:
        description: 商品列表
        items:
          $ref: '#/definitions/types.CreateOrderReqItem'
        minItems: 1
        type: array
      people_number:
        description: 就餐人数
        type: integer
      table_id:
        description: 台桌ID
        type: integer
    required:
    - items
    - people_number
    type: object
  types.CreateOrderReqItem:
    properties:
      price:
        description: 商品价格
        type: number
      product_attr_id:
        description: 商品属性ID
        type: integer
      product_id:
        description: 商品ID
        type: integer
      product_recipe_id:
        description: 商品做法ID
        type: integer
      product_spec_id:
        description: 商品规格ID
        type: integer
      quantity:
        description: 商品数量
        type: number
      remark:
        description: 备注
        maxLength: 500
        type: string
    required:
    - product_id
    type: object
  types.CreateOrderResp:
    properties:
      "no":
        description: 订单号
        type: string
    type: object
  types.LoginReq:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  types.LoginResp:
    properties:
      expire:
        type: integer
      token:
        type: string
    type: object
  types.OrderAppendItemsReq:
    properties:
      items:
        description: 商品列表
        items:
          $ref: '#/definitions/types.CreateOrderReqItem'
        minItems: 1
        type: array
      "no":
        description: 订单号
        type: string
    required:
    - items
    - "no"
    type: object
  types.OrderCancelReq:
    properties:
      "no":
        description: 订单号
        type: string
    required:
    - "no"
    type: object
  types.OrderCashPaidReq:
    properties:
      amount:
        description: 金额
        type: number
      "no":
        description: 订单号
        type: string
    required:
    - "no"
    type: object
  types.OrderDetailReq:
    properties:
      "no":
        description: 订单号
        type: string
    required:
    - "no"
    type: object
  types.OrderDiscountReq:
    properties:
      discount:
        description: 折扣
        type: number
      "no":
        description: 订单号
        type: string
    required:
    - "no"
    type: object
  types.OrderListReq:
    properties:
      page:
        description: 页码
        type: integer
      size:
        description: 每页数量
        type: integer
      status:
        allOf:
        - $ref: '#/definitions/domain.OrderStatus'
        description: 订单状态
        enum:
        - unpaid
        - part_paid
        - paid
        - canceled
    type: object
  types.OrderListResp:
    properties:
      orders:
        description: 订单列表
        items:
          $ref: '#/definitions/domain.Order'
        type: array
      total:
        description: 总数
        type: integer
    type: object
  types.OrderModifyPriceReq:
    properties:
      item_id:
        description: 订单商品ID
        type: integer
      "no":
        description: 订单号
        type: string
      price:
        description: 价格
        type: number
    required:
    - item_id
    - "no"
    type: object
  types.OrderRemoveItemsReq:
    properties:
      item_id:
        description: 订单商品ID
        type: integer
      "no":
        description: 订单号
        type: string
      quantity:
        description: 商品数量
        type: number
    required:
    - item_id
    - "no"
    type: object
  types.OrderScanPaidChannel:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-comments:
      OrderScanPaidChannelPoint: 积分
      OrderScanPaidChannelWechatAndAlipay: 微信/支付宝/知心话钱包
    x-enum-varnames:
    - _
    - OrderScanPaidChannelWechatAndAlipay
    - OrderScanPaidChannelPoint
  types.OrderScanPaidReq:
    properties:
      amount:
        description: 金额
        type: number
      auth_code:
        description: 支付授权码
        type: string
      channel:
        allOf:
        - $ref: '#/definitions/types.OrderScanPaidChannel'
        description: 支付渠道：1-微信/支付宝/知心话钱包 2-积分
        enum:
        - 1
        - 2
      "no":
        description: 订单号
        type: string
    required:
    - auth_code
    - channel
    - "no"
    type: object
  types.OrderScanPaidResp:
    properties:
      seq_no:
        description: 序列号
        type: string
    type: object
  types.OrderTurnTableReq:
    properties:
      "no":
        description: 订单号
        type: string
      table_id:
        description: 台桌ID
        type: integer
    required:
    - "no"
    - table_id
    type: object
  types.PayPollingReq:
    properties:
      seq_no:
        type: string
    required:
    - seq_no
    type: object
  types.PayPollingResp:
    properties:
      fail_reason:
        description: 失败原因
        type: string
      state:
        allOf:
        - $ref: '#/definitions/domain.PayState'
        description: 支付状态, P 处理中, S 成功, F 失败
    type: object
  types.ProductClearStockReq:
    properties:
      product_id:
        description: 商品ID
        type: integer
      spec_ids:
        description: 商品-规格ID列表（多规格商品必传）
        items:
          type: integer
        type: array
    type: object
  types.ProductIDReq:
    properties:
      id:
        description: 商品ID
        type: integer
    type: object
  types.ProductListReq:
    properties:
      category_id:
        description: 分类ID
        type: integer
      page:
        type: integer
      sale_status:
        description: 商品售卖状态： 1-在售 2-售罄 3-部分规格售罄
        items:
          $ref: '#/definitions/domain.ProductSaleStatus'
        type: array
      size:
        type: integer
    type: object
  types.ProductRestoreStockReq:
    properties:
      product_id:
        description: 商品ID
        type: integer
      spec_ids:
        description: 商品-规格ID列表（多规格商品必传）
        items:
          type: integer
        type: array
    type: object
  types.SystemNowResp:
    properties:
      now:
        type: string
    type: object
  types.TableAreaListReq:
    properties:
      page:
        type: integer
      size:
        type: integer
    type: object
  types.TableListReq:
    properties:
      area_id:
        description: 区域ID
        type: integer
      page:
        type: integer
      size:
        type: integer
      status:
        allOf:
        - $ref: '#/definitions/domain.TableStatus'
        description: 台桌状态：1-空闲 2-就餐中
    type: object
info:
  contact: {}
  description: 供收银机等客户端调用.
  title: 前台 API
  version: "1.0"
paths:
  /order/append_items:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderAppendItemsReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 添加订单商品
      tags:
      - 订单管理
  /order/cancel:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderCancelReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 撤单
      tags:
      - 订单管理
  /order/cash_paid:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderCashPaidReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 订单现金支付
      tags:
      - 订单管理
  /order/create:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.CreateOrderReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.CreateOrderResp'
      security:
      - BearerAuth: []
      summary: 创建订单
      tags:
      - 订单管理
  /order/detail:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderDetailReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.Order'
      security:
      - BearerAuth: []
      summary: 订单详情
      tags:
      - 订单管理
  /order/discount:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderDiscountReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 订单折扣
      tags:
      - 订单管理
  /order/list:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderListReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.OrderListResp'
      security:
      - BearerAuth: []
      summary: 订单列表
      tags:
      - 订单管理
  /order/modify_price:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderModifyPriceReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 修改订单商品价格
      tags:
      - 订单管理
  /order/remove_items:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderRemoveItemsReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 退菜
      tags:
      - 订单管理
  /order/scan_paid:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderScanPaidReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.OrderScanPaidResp'
      security:
      - BearerAuth: []
      summary: 订单扫码支付
      tags:
      - 订单管理
  /order/turn_table:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.OrderTurnTableReq'
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 转台
      tags:
      - 订单管理
  /payment/polling:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.PayPollingReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.PayPollingResp'
      security:
      - BearerAuth: []
      summary: 支付轮询
      tags:
      - 支付管理
  /product/category/list:
    post:
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.CategoryListReq'
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.CategorySearchRes'
      security:
      - BearerAuth: []
      summary: 商品分类列表
      tags:
      - 商品管理
  /product/clear-stock:
    post:
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductClearStockReq'
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 商品估清
      tags:
      - 商品管理
  /product/detail:
    post:
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductIDReq'
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.Product'
      security:
      - BearerAuth: []
      summary: 商品详情
      tags:
      - 商品管理
  /product/list:
    post:
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductListReq'
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.ProductSearchRes'
      security:
      - BearerAuth: []
      summary: 商品列表
      tags:
      - 商品管理
  /product/restore-stock:
    post:
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductRestoreStockReq'
      responses:
        "200":
          description: OK
      security:
      - BearerAuth: []
      summary: 取消估清
      tags:
      - 商品管理
  /product/setmeal/list:
    post:
      parameters:
      - description: 请求参数
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.ProductIDReq'
      responses:
        "200":
          description: 成功
          schema:
            items:
              $ref: '#/definitions/domain.SetMealDetail'
            type: array
      security:
      - BearerAuth: []
      summary: 套餐商品详情列表
      tags:
      - 商品管理
  /system/now:
    post:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.SystemNowResp'
      security:
      - BearerAuth: []
      summary: 获取当前时间
      tags:
      - 系统管理
  /table-area/list:
    post:
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.TableAreaListReq'
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.AreaSearchRes'
      security:
      - BearerAuth: []
      summary: 区域列表
      tags:
      - 台桌管理
  /table/list:
    post:
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.TableListReq'
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.TableSearchRes'
      security:
      - BearerAuth: []
      summary: 台桌列表
      tags:
      - 台桌管理
  /user/info:
    post:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/domain.FrontendUser'
      security:
      - BearerAuth: []
      summary: 获取当前用户信息
      tags:
      - 用户管理
  /user/login:
    post:
      consumes:
      - application/json
      parameters:
      - description: 请求信息
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/types.LoginReq'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/types.LoginResp'
      security:
      - BearerAuth: []
      summary: 用户登录
      tags:
      - 用户管理
  /user/logout:
    post:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: No Content
      security:
      - BearerAuth: []
      summary: 用户登出
      tags:
      - 用户管理
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and the JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
